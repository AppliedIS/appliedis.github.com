{"version":3,"sources":["state/actions/defaultConfigActionTypes.js","state/actions/eventDrawerActionTypes.js","state/actions/statefulActionTypes.js","state/store/configureStore.js","state/actions/eventsActionTypes.js","state/actions/dataActionTypes.js","state/actions/voterActionTypes.js","state/actions/eventVotesActionTypes.js","state/actions/settingsActions.js","api/DataApi.js","state/actions/dataActions.js","toast/StatusToast.js","settings/temporalFilter/component.js","settings/voteFilter/component.js","api/StatefulApi.js","state/actions/configActions.js","state/actions/eventsActions.js","state/actions/eventVotesActions.js","state/actions/userVotesActions.js","state/actions/mapActions.js","toast/ShareToast.js","settings/component.js","state/actions/defaultConfigActions.js","map/component.js","events/videoPlayer/component.js","events/component.js","state/actions/eventDrawerActions.js","state/actions/voterActions.js","App.js","registerServiceWorker.js","globalStore.js","state/actions/statefulActions.js","index.js","state/rootReducer.js","state/reducers/defaultConfigReducer.js","state/reducers/configReducer.js","state/reducers/settingsReducer.js","state/reducers/dataReducer.js","state/reducers/voterReducer.js","state/reducers/mapReducer.js","state/reducers/eventsReducer.js","state/reducers/eventDrawerReducer.js","state/reducers/eventVotesReducer.js","state/reducers/userVotesReducer.js","state/reducers/statefulReducer.js","state/store/configureStore.prod.js","state/actions/userVotesActionTypes.js","state/actions/settingsActionTypes.js","state/actions/configActionTypes.js","state/actions/mapActionTypes.js"],"names":["__webpack_require__","d","__webpack_exports__","DEFAULT_CONFIG__SET_DEFAULT_CONFIG","EVENT_DRAWER__STATUS","STATEFUL__UPDATE_STATUS","module","exports","require","EVENTS__EVENT_SELECTED","EVENTS__EVENT_EDITED","EVENT__EVENT_RESET","EVENTS__EVENT_CLOSE","EVENT__EVENT_REFRESH","EVENT__EVENT_NEW","EVENTS__EVENT_NEW_UPDATE","EVENT__EVENT_NEW_RESET","EVENT__EVENT_NEW_CANCEL","EVENTS__FETCH_EVENT_DATA_PENDING","EVENTS__FETCH_EVENT_DATA_SUCCESS","EVENTS__FETCH_EVENT_DATA_ERROR","DATA__FETCH_DATA_PENDING","DATA__FETCH_DATA_SUCCESS","DATA__FETCH_DATA_ERROR","DATA__REFRESH_VIEWPORT_DATA","DATA__CLEAR","VOTER__FETCH_VOTER_DATA_PENDING","VOTER__FETCH_VOTER_DATA_SUCCESS","VOTER__FETCH_VOTER_DATA_ERROR","VOTER__UPDATE_VOTER_DATA","EVENT_VOTES__FETCH_PENDING","EVENT_VOTES__FETCH_SUCCESS","EVENT_VOTES__FETCH_ERROR","updateSettings","settings","type","types","checkStatus","response","status","error","Error","statusText","DataApi","url","parser","window","document","createElement","href","protocol","concat","Promise","resolve","reject","fetch","then","json","data","catch","payload","method","headers","Content-Type","body","JSON","stringify","eventObj","event_id","video_offset_sec","event_time","event_lat","event_lon","event_altitude","product_id","dataset_id","is_modified","notes","first_name","last_name","video_id","fetchData","dispatch","fetchSuccess","results","fetchError","StatusToast","props","react_default","a","className","title","message","TemporalFilterComponent","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","start","moment","utc","subtract","startOf","toISOString","end","startTime","hour","minute","second","endTime","isModified","_updateData","bind","assertThisInitialized","_setTime","_updateSettings","_toastInvalidDate","_handleOnChange","_changeTime","_handleTimeChange","_handleOnKeyDown","_stepRange","_setRange","_setToday","_setStartOfDay","_setEndOfDay","bounds","dataUrl","config","_southWest","lng","lat","_northEast","filterByNoVote","filterByUpvote","filterByDownvote","filterByUserVotes","setState","isValid","dateFormat","time","slice","_this2","newSettings","assign","toast","toast_StatusToast","TYPE","ERROR","key","value","isAfter","isBefore","unit","typeObj","_this3","length","isNaN","timeSet","set","newValue","_this4","timeObj","_","event","max","direction","diff","duration","getRange","add","hours","minutes","seconds","units","unitOfTime","endOf","_this5","_this6","prevProps","prevState","_this7","_this8","format","disabled","ranges","range","push","FlatButton_default","style","minWidth","labelStyle","padding","fontSize","primary","label","onClick","dist","date","onChange","TextField_default","id","floatingLabelFixed","floatingLabelText","width","height","onKeyDown","RaisedButton_default","icon","buttonStyle","backgroundColor","Component","connect","VoteFilterComponent","noBtnColor","upBtnColor","downBtnColor","_setBtnColors","userFilterIcon","person_default","people_default","userFilterTooltip","IconButton_default","tooltip","block_default","color","thumb_up_default","tooltipPosition","thumb_down_default","StatefulApi","updateConfig","saveConfig","fetchPending","eventError","selectEvent","getEvent","editEvent","new","resetEvent","updateNewEvent","fetchEventVotes","eventVotes","eventVotesError","fetchUserVotes","userVotes","userVotesError","clearCoordinates","ShareToast","SettingsComponent","cache","CellMeasurerCache","fixedWidth","defaultHeight","showHelp","pending","eventIdx","windowWidth","windowHeight","csvPending","listRef","React","createRef","_handleHelpOpen","_handleHelpClose","_saveConfig","_resetConfig","_exportCsv","_updateDimensions","_rowRenderer","newConfig","viewport","isActive","settingsToast","SUCCESS","defaultConfig","resetSettings","postData","erisDownloadUrl","erisUrl","INFO","file","appendChild","click","err","open","flyToCoordinates","e","stopPropagation","preventDefault","voteObj","vote","vote_time","geo_confidence","off_camera","userVote","_getUserVote","putData","vote_id","deleteData","w","documentElement","getElementsByTagName","innerWidth","clientWidth","innerHeight","clientHeight","eventsListEl","querySelector","eventsListElHeight","Math","floor","getBoundingClientRect","top","index","_ref","parent","unavailable","process","downvoteBtn","_handleDownvoteClicked","dist_es","columnIndex","rowIndex","_ref2","measure","_handleEventClicked","onMouseOver","onEventHover","onMouseOut","cols","rows","parseFloat","toPrecision","onLoad","src","gif_path","onError","target","onerror","alt","stateful","addEventListener","refresh","fetchToast","toString","result","current","forceUpdateGrid","eventNotesEl","firstNameEl","lastNameEl","activeElement","hotkey","shareOption","MenuItem_default","leftIcon","share_default","primaryText","share","helpActions","secondary","progress","CircularProgress_default","csvProgress","size","thickness","total","Array","isArray","$","freezeframe","Drawer_default","containerClassName","IconMenu_default","iconButtonElement","more_vert_default","anchorOrigin","horizontal","vertical","targetOrigin","save_default","cached_default","cloud_download_default","Divider_default","help_default","settings_voteFilter_component","temporalFilter_component","_ref3","ref","deferredMeasurementCache","rowHeight","rowRenderer","rowCount","scrollToIndex","lib","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","pauseOnHover","Dialog_default","modal","onRequestClose","actions","autoScrollBodyContent","ownProps","mapPoint","app_name","user_state","toast_ShareToast","location","origin","clearData","getCoordinates","setDefaultConfig","MapComponent","map","refreshStyle","hoveredEvent","selectedEvent","selectedEventMarker","dragging","addingNewEvent","kmlPending","mapRef","eventsGroup","L","FeatureGroup","selectedEventGroup","drawGroup","drawControl","Control","Draw","draw","polyline","polygon","circle","rectangle","circlemarker","edit","featureGroup","_handleRefreshClicked","_refreshMap","_drawEvent","_exportKml","marker","circleMarker","latLng","weight","fillOpacity","radius","fillColor","bindPopup","offset","point","autoPan","on","openPopup","closePopup","addTo","geometry","geomBounds","parse","video_geom","console","log","coordinates","toBounds","extent","bbox","latLngBounds","viewportChanged","objectSpread","display","transform","onViewportChange","onBoundsChange","getBounds","refreshViewportData","layers","returnObj","layer","options","crs","CRS","EPSG4326","EPSG3857","name","tileLayer","wms","clearLayers","_drawMarker","addControl","mapEvent","getLayers","eventLatLng","removeLayer","draggable","newEvent","latlng","onDrag","videoGeom","geoJSON","flyToBounds","_getGeomBounds","toGeoJSON","features","feature","properties","kml","tokml","timestamp","baseLayers","_configLayers","baseMaps","overlays","center","zoom","defaultBaseMap","maxBounds","keyboard","maxZoom","control","scale","imperial","enableUserInput","useLatLngOrder","getCenter","_onViewportChange","getZoom","Event","CREATED","addLayer","onNewEvent","DELETED","right","invalidateSize","hoverEvent","_latlng","close","removeControl","eventDrawerStatus","kmlEvent","material_ui_index_es","mini","refresh_default","VideoPlayerComponent","source","playbackRate","videoSpeed","onPlayerError","onPlayerLoaded","refs","player","speedUp","maxVideoSpeed","minVideoSpeed","forward","getState","paused","pause","currentTime","seek","play","subscribeToStateChange","_handleStateChange","video_path","load","eventLatEl","eventLonEl","eventOffsetEl","_handleVideoSpeed","_handleFrameAdvance","_handlePause","videoBuffer","video_react_lib","autoPlay","loop","autoHide","rates","order","EventsComponent","votes","mode","currEvent","voteOptions","eventStart","eventEnd","eventTime","playerRef","dialogOpen","upvoteMenuRef","downvoteMenuRef","_toggleDrawerOpen","_toggleDrawerClosed","_handleVote","_handleEventNotes","_handleEventAltitude","_handleEventClose","_handleVoteOptions","_handlePlayerLoaded","_handlePlayerError","_handleSetOffset","_handleDialogOpen","_handleDialogClose","setEventDrawerStatus","undefined","edited","closeEvent","getEventObj","refreshEventDetails","resetNewEvent","currEventId","evt","toFixed","createNewEvent","cancelNewEvent","voter","voterData","voter_name","trim","onKmlExport","v","parseInt","_handleAddNewEventClicked","_handleCancelNewEventClicked","_this9","filename","split","thumbsUpChecked","thumbsDownChecked","thumbsUpIconColor","thumbsDownIconColor","upVotes","downVotes","upvoteText","downvoteText","offsetDuration","offsetFormatted","asMilliseconds","FloatingActionButton_default","selected","chevron_left_default","openSecondary","chevron_right_default","launch_default","_handleOpenErisEvent","_handleOpenKmlEvent","close_default","events_videoPlayer_component","multiple","clickCloseDelay","access_time_default","Card_default","Card","GridList_default","spacing","cellHeight","GridList","fullWidth","multiLine","rowsMax","textAlign","_handleResetClick","_handleSubmitClick","putEventData","curEvent","getNewEventId","voterDataError","App","_handleViewport","_handleBounds","_handleHotkey","_handleEventHover","_handleNewEvent","_handleDrag","_handleKml","fetchVoterData","postVoterData","handlers","prevEvent","nextEvent","playPauseVideo","videoSpeedIncrease","videoSpeedDecrease","voteUp","voteDown","filter","forwardFrame","backwardFrame","setOffset","index_es","keyMap","src_settings_component","src_events_component","src_map_component","isLocalhost","Boolean","hostname","match","register","navigator","URL","swUrl","get","indexOf","serviceWorker","ready","registration","unregister","reload","registerValidSW","checkValidServiceWorker","onupdatefound","installingWorker","installing","onstatechange","controller","Store","GlobalStore","setStore","createdStore","getStore","updateStatefulStatus","xhttp","XMLHttpRequest","store","onreadystatechange","readyState","configureStore","responseText","saved","localStorage","getItem","savedObj","version","render","ReactDOM","es","material_ui_styles","muiTheme","getMuiTheme","darkBaseTheme","src_App_0","getElementById","registerServiceWorker","stateId","vars","search","substring","i","pair","decodeURIComponent","getStateId","initialState","getVersion","send","rootReducer","combineReducers","arguments","action","c","setItem","clear","reset","cancel","middewares","thunkMiddleware","createStore","compose","applyMiddleware","apply","USER_VOTES__FETCH_PENDING","USER_VOTES__FETCH_SUCCESS","USER_VOTES__FETCH_ERROR","SETTINGS__UPDATE_SETTINGS","SETTINGS__RESET_SETTINGS","CONFIG__UPDATE_CONFIG","CONFIG__SAVE_CONFIG","MAP__FLY_TO_EVENT","MAP__CLEAR_EVENTS"],"mappings":"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","file":"static/js/main.17b1494a.chunk.js","sourcesContent":["export const DEFAULT_CONFIG__SET_DEFAULT_CONFIG = 'DEFAULT_CONFIG__SET_DEFAULT_CONFIG';\n","export const EVENT_DRAWER__STATUS = 'EVENT_DRAWER__STATUS';\n","export const STATEFUL__UPDATE_STATUS = 'STATEFUL__UPDATE_STATUS';\n","if (process.env.NODE_ENV === 'production') {\n    module.exports = require('./configureStore.prod');\n}\nelse {\n    module.exports = require('./configureStore.dev');\n}\n","export const EVENTS__EVENT_SELECTED = 'EVENTS__EVENT_SELECTED';\nexport const EVENTS__EVENT_UPDATED = 'EVENTS__EVENT_UPDATED';\nexport const EVENTS__EVENT_EDITED = 'EVENTS__EVENT_EDITED';\nexport const EVENT__EVENT_RESET = 'EVENT__EVENT_RESET';\nexport const EVENTS__EVENT_CLOSE = 'EVENTS__EVENT_CLOSE';\nexport const EVENT__EVENT_REFRESH = 'EVENT__EVENT_REFRESH';\n\n// new events\nexport const EVENT__EVENT_NEW = 'EVENT__EVENT_NEW';\nexport const EVENTS__EVENT_NEW_UPDATE = 'EVENTS__EVENT_NEW_UPDATE';\nexport const EVENT__EVENT_NEW_RESET = 'EVENT__EVENT_NEW_RESET';\nexport const EVENT__EVENT_NEW_CANCEL = 'EVENT__EVENT_NEW_CANCEL';\n\n// push data back\nexport const EVENTS__FETCH_EVENT_DATA_PENDING = 'EVENTS__FETCH_EVENT_DATA_PENDING';\nexport const EVENTS__FETCH_EVENT_DATA_SUCCESS = 'EVENTS__FETCH_EVENT_DATA_SUCCESS';\nexport const EVENTS__FETCH_EVENT_DATA_ERROR = 'EVENTS__FETCH_EVENT_DATA_ERROR';\n","export const DATA__FETCH_DATA_PENDING = 'DATA__FETCH_DATA_PENDING';\nexport const DATA__FETCH_DATA_SUCCESS = 'DATA__FETCH_DATA_SUCCESS';\nexport const DATA__FETCH_DATA_ERROR = 'DATA__FETCH_DATA_ERROR';\nexport const DATA__REFRESH_VIEWPORT_DATA = 'DATA__REFRESH_VIEWPORT_DATA';\nexport const DATA__CLEAR = 'DATA__CLEAR';\n","export const VOTER__FETCH_VOTER_DATA_PENDING = 'VOTER__FETCH_VOTER_PENDING';\nexport const VOTER__FETCH_VOTER_DATA_SUCCESS = 'VOTER__FETCH_VOTER_SUCCESS';\nexport const VOTER__FETCH_VOTER_DATA_ERROR = 'VOTER__FETCH_VOTER_ERROR';\nexport const VOTER__UPDATE_VOTER_DATA = 'VOTER__UPDATE_VOTER_DATA';\n","export const EVENT_VOTES__FETCH_PENDING = 'VOTE__FETCH_VOTES_PENDING';\nexport const EVENT_VOTES__FETCH_SUCCESS = 'VOTE__FETCH_VOTES_SUCCESS';\nexport const EVENT_VOTES__FETCH_ERROR = 'VOTE__FETCH_VOTES_ERROR';\n","import * as types from './settingsActionTypes';\n\nexport function updateSettings(settings) {\n    return {\n        type: types.SETTINGS__UPDATE_SETTINGS,\n        settings\n    };\n}\n\nexport function resetSettings(defaultConfig) {\n    return {\n        type: types.SETTINGS__RESET_SETTINGS,\n        defaultConfig\n    };\n}\n","import 'whatwg-fetch';\n\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n        return response;\n    } else {\n        let error = new Error(response.statusText);\n        error.response = response;\n        throw error;\n    }\n}\n\nclass DataApi {\n    static fetchData(url) {\n        const parser = window.document.createElement('a');\n        parser.href = url;\n        url = parser.protocol === ':' ? `//${url}` : url;\n        return new Promise((resolve, reject) => {\n            fetch(url).then(checkStatus).then(response => {\n                return response.json();\n            }).then(data => {\n                resolve(data);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n\n    static postData(url, payload) {\n        const parser = window.document.createElement('a');\n        parser.href = url;\n        url = parser.protocol === ':' ? `//${url}` : url;\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(payload)\n            }).then(checkStatus).then(response => {\n                return response.json();\n            }).then(data => {\n                resolve(data);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n\n    static putData(url, payload) {\n        const parser = window.document.createElement('a');\n        parser.href = url;\n        url = parser.protocol === ':' ? `//${url}` : url;\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'PUT',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(payload)\n            }).then(checkStatus).then(response => {\n                return response.json();\n            }).then(data => {\n                resolve(data);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n\n    // Returns event object with only the event related fields\n    static getEventObj(eventObj) {\n        return {\n            event_id: eventObj.event_id,\n            video_offset_sec: eventObj.video_offset_sec,\n            event_time: eventObj.event_time,\n            event_lat: eventObj.event_lat,\n            event_lon: eventObj.event_lon,\n            event_altitude: eventObj.event_altitude,\n            product_id: eventObj.product_id,\n            dataset_id: eventObj.dataset_id,\n            is_modified: eventObj.is_modified,\n            notes:  eventObj.notes,\n            first_name: eventObj.first_name,\n            last_name: eventObj.last_name,\n            video_id: eventObj.video_id\n        };\n    }\n\n    static getNewEventId() {\n        return 'New Event';\n    }\n\n    static deleteData(url) {\n        const parser = window.document.createElement('a');\n        parser.href = url;\n        url = parser.protocol === ':' ? `//${url}` : url;\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'DELETE'\n            }).then(checkStatus).then(response => {\n                return response.json();\n            }).then(data => {\n                resolve(data);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n}\nexport default DataApi;\n","import * as types from './dataActionTypes';\nimport DataApi from '../../api/DataApi';\n\nfunction fetchPending(data) {\n    return {\n        type: types.DATA__FETCH_DATA_PENDING,\n        data\n    };\n}\n\nfunction fetchSuccess(data) {\n    return {\n        type: types.DATA__FETCH_DATA_SUCCESS,\n        data\n    };\n}\n\nfunction fetchError(error) {\n    return {\n        type: types.DATA__FETCH_DATA_ERROR,\n        error\n    };\n}\n\nfunction clear() {\n    return {\n        type: types.DATA__CLEAR,\n    };\n}\n\nexport function fetchData(url) {\n    return (dispatch) => {\n        dispatch(fetchPending({}));\n        return DataApi.fetchData(url).then(data => {\n            dispatch(fetchSuccess({results: data}));\n        }).catch(error => {\n            dispatch(fetchError(error))\n        });\n    };\n}\n\nexport function clearData() {\n    return (dispatch) => {\n        dispatch(clear());\n    };\n}\n\nexport function refreshViewportData() {\n    return (dispatch) => {\n        dispatch({\n            type: types.DATA__REFRESH_VIEWPORT_DATA\n        });\n    };\n}\n","import React from 'react';\n\nconst StatusToast = props => {\n    return (\n        <div className=\"toast-content\">\n            <h3>{props.title}</h3>\n            {props.message}\n        </div>\n    );\n};\n\nexport default StatusToast;\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport * as _ from 'lodash';\nimport {toast} from 'react-toastify';\nimport {ReactUTCDatepicker} from 'react-utc-datepicker';\n\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport TextField from 'material-ui/TextField';\n\nimport {updateSettings} from '../../state/actions/settingsActions';\nimport {fetchData} from '../../state/actions/dataActions';\n\nimport './component.css';\nimport StatusToast from '../../toast/StatusToast';\n\nclass TemporalFilterComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            fetch: false,\n            start: props.settings.start || moment.utc().subtract(1, 'd').startOf('h').toISOString(),\n            end: props.settings.end || moment.utc().startOf('h').toISOString(),\n            startTime: {\n                hour: '',\n                minute: '',\n                second: ''\n            },\n            endTime: {\n                hour: '',\n                minute: '',\n                second: ''\n            },\n            isModified: true\n        };\n\n        this._updateData = this._updateData.bind(this);\n        this._setTime = this._setTime.bind(this);\n        this._updateSettings = this._updateSettings.bind(this);\n        this._toastInvalidDate = this._toastInvalidDate.bind(this);\n        this._handleOnChange = this._handleOnChange.bind(this);\n        this._changeTime = this._changeTime.bind(this);\n        this._handleTimeChange = this._handleTimeChange.bind(this);\n        this._handleOnKeyDown = this._handleOnKeyDown.bind(this);\n        this._stepRange = this._stepRange.bind(this);\n        this._setRange = this._setRange.bind(this);\n        this._setToday = this._setToday.bind(this);\n        this._setStartOfDay = this._setStartOfDay.bind(this);\n        this._setEndOfDay = this._setEndOfDay.bind(this);\n    }\n\n    _updateData() {\n        // data url based on filter properties\n        const bounds = this.props.bounds;\n        const dataUrl = `${this.props.config.dataUrl}/events?minlon=${bounds._southWest.lng}&minlat=${bounds._southWest.lat}&maxlon=${bounds._northEast.lng}&maxlat=${bounds._northEast.lat}&start=${this.props.settings.start}&end=${this.props.settings.end}&filterByNoVote=${this.props.settings.filterByNoVote}&filterByUpvote=${this.props.settings.filterByUpvote}&filterByDownvote=${this.props.settings.filterByDownvote}&filterByUserVotes=${this.props.settings.filterByUserVotes}`;\n        this.props.fetchData(dataUrl);\n        this.setState({\n            isModified: false\n        });\n    }\n\n    _setTime(type) {\n        const isValid = moment.utc(this.state[type], this.props.config.dateFormat).isValid(),\n            hour = isValid ? ('0' + moment.utc(this.state[type]).hour()).slice(-2) : '00',\n            minute = isValid ? ('0' + moment.utc(this.state[type]).minute()).slice(-2) : '00',\n            second = isValid ? ('0' + moment.utc(this.state[type]).second()).slice(-2) : '00';\n\n        const time = {\n            hour: hour,\n            minute: minute,\n            second: second\n        };\n        if (type === 'start') {\n            this.setState({\n                startTime: time\n            });\n        } else {\n            this.setState({\n                endTime: time\n            });\n        }\n    }\n\n    _updateSettings(start, end) {\n        this.setState({\n            fetch: true\n        }, () => {\n            let newSettings = Object.assign({}, this.props.settings);\n            newSettings.start = start;\n            newSettings.end = end;\n            this.props.updateSettings(newSettings);\n        });\n    }\n\n    _toastInvalidDate(type, title) {\n        title = title || null;\n        if (!title) {\n            title = type === 'start' ? 'Invalid Start Date.' : 'Invalid End Date.';\n        }\n\n        toast(<StatusToast title=\"Error Setting Date Value\" message={title}/>, {\n            type: toast.TYPE.ERROR\n        });\n    }\n\n    _handleOnChange(key, value) {\n        let newSettings = Object.assign({}, this.props.settings);\n        if (value === 'Invalid date') {\n            this._toastInvalidDate(key);\n            newSettings[key] = value;\n        } else {\n            if (key === 'start') {\n                if (moment.utc(value, this.props.config.dateFormat).isAfter(moment.utc(this.state.end, this.props.config.dateFormat))) {\n                    this._toastInvalidDate(key, 'Start Date is after End Date.');\n                }\n            } else {\n                if (moment.utc(value, this.props.config.dateFormat).isBefore(moment.utc(this.state.start, this.props.config.dateFormat))) {\n                    this._toastInvalidDate(key, 'End Date is before Start Date.');\n                }\n            }\n            newSettings[key] = moment.utc(value).toISOString();\n        }\n        this.props.updateSettings(newSettings);\n    }\n\n    _changeTime(type, unit, typeObj) {\n        if (typeObj[unit].length > 2) {\n                typeObj[unit] = ('0' + typeObj.hour).slice(-2);\n            }\n            if (!isNaN(typeObj[unit])) {\n                if (typeObj.hour > 23 || typeObj.hour < 0) {\n                    typeObj.hour = typeObj.hour > 23 ? 23 : 0;\n                }\n                if (typeObj.minute > 59 || typeObj.minute < 0) {\n                    typeObj.minute = typeObj.minute > 59 ? 59 : 0;\n                }\n                if (typeObj.second > 59 || typeObj.second < 0) {\n                    typeObj.second = typeObj.second > 59 ? 59 : 0;\n                }\n                const time = {\n                    hour: ('0' + typeObj.hour).slice(-2),\n                    minute: ('0' + typeObj.minute).slice(-2),\n                    second: ('0' + typeObj.second).slice(-2)\n                };\n                const timeSet = type === 'startTime' ? moment.utc(this.state.start) : moment.utc(this.state.end);\n                timeSet.set(time);\n                if (type === 'startTime') {\n                    this.setState({\n                        start: timeSet.toISOString(),\n                        startTime: time\n                    }, () => {\n                        this._handleOnChange('start', this.state.start);\n                    });\n                } else if (type === 'endTime') {\n                    this.setState({\n                        end: timeSet.toISOString(),\n                        endTime: time\n                    }, () => {\n                        this._handleOnChange('end', this.state.end);\n                    });\n                }\n            }\n    }\n\n    _handleTimeChange(newValue, type, unit) {\n        const timeObj = _.cloneDeep(this.state[type]);\n        timeObj[unit] = newValue;\n        if (type === 'startTime') {\n            this.setState({\n                startTime: timeObj\n            }, () => {\n                if (newValue.length > 1) {\n                    this._changeTime('startTime', unit, timeObj);\n                }\n            });\n        } else {\n            this.setState({\n                endTime: timeObj\n            }, () => {\n                if (newValue.length > 1) {\n                    this._changeTime('endTime', unit, timeObj);\n                }\n            });\n        }\n    }\n\n    _handleOnKeyDown(event, unit, type) {\n        let max = 0;\n        const typeObj = _.clone(this.state[type]);\n        if (unit === 'hour') {\n            max = 23;\n        } else if (unit === 'minute' || unit === 'second') {\n            max = 60;\n        }\n        if (event.key === 'ArrowUp') {\n            // up arrow\n            if (isNaN(typeObj[unit])) {\n                typeObj[unit] = ('0' + 0).slice(-2);\n            }\n            if (typeObj[unit] < max) {\n                typeObj[unit]++;\n            }\n            typeObj[unit] = ('0' + typeObj[unit]).slice(-2);\n            this._changeTime(type, unit, typeObj);\n        } else if (event.key === 'ArrowDown') {\n            // down arrow\n            if (isNaN(typeObj[unit])) {\n                typeObj[unit] = ('0' + 0).slice(-2);\n            }\n            if (typeObj[unit] > 0) {\n                typeObj[unit]--;\n            }\n            typeObj[unit] = ('0' + typeObj[unit]).slice(-2);\n            this._changeTime(type, unit, typeObj);\n        }\n    }\n\n    _stepRange(direction) {\n        let start = moment.utc(this.state.start);\n        let end = moment.utc(this.state.end);\n        const diff = moment.duration(end.diff(start));\n\n        const getRange = unit => {\n            start = direction === 'forward' ?\n                moment.utc(start)\n                    .add(1, unit)\n                    .toISOString() :\n                moment.utc(start)\n                    .subtract(1, unit)\n                    .toISOString();\n            end = direction === 'forward' ?\n                moment.utc(end)\n                    .add(1, unit)\n                    .toISOString() :\n                moment.utc(end)\n                    .subtract(1, unit)\n                    .toISOString();\n        };\n\n        // determine the exact units of time to be adjusted\n        if (diff.hours() > 0 && diff.minutes() > 0 && diff.seconds() > 0) {\n            getRange('d');\n        } else if (diff.minutes() > 0 && diff.seconds() > 0) {\n            getRange('h');\n        } else if (diff.seconds() > 0) {\n            getRange('m');\n        } else {\n            start = direction === 'forward' ? start.add(diff).toISOString() : start.subtract(diff).toISOString();\n            end = direction === 'forward' ? end.add(diff).toISOString() : end.subtract(diff).toISOString();\n        }\n\n        this._updateSettings(start, end);\n    }\n\n    _setRange(units, unitOfTime) {\n        let start = moment.utc().add(units, unitOfTime).startOf(unitOfTime),\n            end = moment.utc().startOf(unitOfTime);\n\n        if ((units === -1 && unitOfTime === 'hours') || (units === -30 && unitOfTime === 'minutes')) {\n            start = moment.utc().add(units, unitOfTime).toISOString();\n            end = moment.utc().toISOString();\n        }\n\n        this._updateSettings(start, end);\n    }\n\n    _setToday() {\n        const start = moment.utc().startOf('d').toISOString(),\n            end = moment.utc().endOf('d').toISOString();\n\n        this._updateSettings(start, end);\n    }\n\n    _setStartOfDay() {\n        const startTime = {\n            hour: ('0' + 0).slice(-2),\n            minute: ('0' + 0).slice(-2),\n            second: ('0' + 0).slice(-2)\n        };\n        var timeSet = moment.utc(this.state.start);\n        timeSet.set({\n            hour: ('0' + startTime.hour).slice(-2),\n            minute: ('0' + startTime.minute).slice(-2),\n            second: ('0' + startTime.second).slice(-2)\n        });\n        this.setState({\n            start: timeSet.toISOString(),\n            startTime: startTime,\n            isModified: true\n        }, () => {\n            this._handleOnChange('start', this.state.start);\n        });\n    }\n\n    _setEndOfDay() {\n        const endTime = {\n            hour: 23,\n            minute: 59,\n            second: 59\n        };\n        var timeSet = moment.utc(this.state.end);\n        timeSet.set({\n            hour: 23,\n            minute: 59,\n            second: 59\n        });\n        this.setState({\n            end: timeSet.toISOString(),\n            endTime: endTime,\n            isModified: true\n        }, () => {\n            this._handleOnChange('end', this.state.end);\n        });\n    }\n\n    componentDidMount() {\n        this._setTime('start');\n        this._setTime('end');\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.settings && !_.isEqual(prevProps.settings, this.props.settings)) {\n            if (\n                prevProps.settings.start !== this.props.settings.start ||\n                prevProps.settings.end !== this.props.settings.end\n            ) {\n                this.setState({\n                    start: this.props.settings.start,\n                    end: this.props.settings.end,\n                    isModified: true\n                }, () => {\n                    this._setTime('start');\n                    this._setTime('end');\n                });\n            } else {\n                this.setState({\n                    isModified: false\n                });\n            }\n        }\n        if (!_.isEqual(prevState, this.state)) {\n            if (prevState.fetch !== this.state.fetch && this.state.fetch) {\n                this.setState({\n                    fetch: false\n                }, () => {\n                    this._updateData();\n                });\n            }\n        }\n    }\n\n    render() {\n        const start = moment.utc(this.state.start).format(this.props.config.dateFormat);\n        const end = moment.utc(this.state.end).format(this.props.config.dateFormat);\n        const disabled = this.state.start === 'Invalid date' ||\n            this.state.end === 'Invalid date' ||\n            moment.utc(this.state.start).isAfter(moment.utc(this.state.end)) ||\n            moment.utc(this.state.end).isBefore(moment.utc(this.state.start));\n        const ranges = [];\n\n        _.forEach(this.props.config.ranges, range => {\n            ranges.push(\n                <FlatButton\n                    key={range.units}\n                    style={{minWidth: '50px'}}\n                    labelStyle={{padding: 0, fontSize: '13px'}}\n                    primary={true}\n                    label={`${range.label}`}\n                    onClick={() => {\n                        this._setRange(range.units, range.unitOfTime);\n                    }}\n                />\n            );\n        });\n        ranges.push(\n            <FlatButton\n                key=\"today\"\n                style={{minWidth: '50px'}}\n                labelStyle={{padding: 0, fontSize: '13px'}}\n                primary={true}\n                label=\"TODAY\"\n                onClick={this._setToday}\n            />\n        );\n\n        return(\n            <div className=\"temporalFilter\">\n                <div className=\"margin-bottom-md\">Temporal Filter</div>\n                <div className=\"temporalFilter__start\">\n                    <div className=\"temporalFilter__datepicker\">\n                        <label className=\"temporalFilter__label\">Start Date</label>\n                        <ReactUTCDatepicker\n                            date={start}\n                            format={this.props.config.dateFormat}\n                            onChange={value => {\n                                this._handleOnChange('start', value);\n                            }}\n                        />\n                    </div>\n                    <TextField\n                        id=\"start-hour\"\n                        title=\"Hour\"\n                        type=\"tel\"\n                        floatingLabelFixed={true}\n                        floatingLabelText='Hour'\n                        value={this.state.startTime.hour}\n                        style={{width: '65px', height: '64px', fontSize: '14px'}}\n                        onChange={(event, value) => {\n                            this._handleTimeChange(value, 'startTime', 'hour');\n                        }}\n                        onKeyDown={event => {\n                            this._handleOnKeyDown(event, 'hour', 'startTime');\n                        }}\n                    />\n                    <TextField\n                        id=\"start-minute\"\n                        title=\"Minute\"\n                        type=\"tel\"\n                        floatingLabelFixed={true}\n                        floatingLabelText='Minute'\n                        value={this.state.startTime.minute}\n                        style={{width: '65px', height: '64px', fontSize: '14px'}}\n                        onChange={value => {\n                            this._handleOnChange('startTime', value);\n                        }}\n                        onKeyDown={event => {\n                            this._handleOnKeyDown(event, 'minute', 'startTime');\n                        }}\n                    />\n                    <TextField\n                        id=\"start-second\"\n                        title=\"Second\"\n                        type=\"tel\"\n                        floatingLabelFixed={true}\n                        floatingLabelText='Second'\n                        value={this.state.startTime.second}\n                        style={{width: '65px', height: '64px', fontSize: '14px'}}\n                        onChange={value => {\n                            this._handleOnChange('startTime', value);\n                        }}\n                        onKeyDown={event => {\n                            this._handleOnKeyDown(event, 'second', 'startTime');\n                        }}\n                    />\n                    <div className=\"temporalFilter__time-btn\">\n                        <span className=\"fa fa-hourglass-start\" onClick={this._setStartOfDay}></span>\n                    </div>\n                </div>\n                <div className=\"temporalFilter__end\">\n                    <div className=\"temporalFilter__datepicker\">\n                        <label className=\"temporalFilter__label\">End Date</label>\n                        <ReactUTCDatepicker\n                            date={end}\n                            format={this.props.config.dateFormat}\n                            onChange={value => {\n                                this._handleOnChange('end', value);\n                            }}\n                        />\n                    </div>\n                    <TextField\n                        id=\"end-hour\"\n                        title=\"Hour\"\n                        type=\"tel\"\n                        floatingLabelFixed={true}\n                        floatingLabelText='Hour'\n                        value={this.state.endTime.hour}\n                        style={{width: '65px', height: '64px', fontSize: '14px'}}\n                        onChange={(event, value) => {\n                            this._handleTimeChange(value, 'endTime', 'hour');\n                        }}\n                        onKeyDown={event => {\n                            this._handleOnKeyDown(event, 'hour', 'endTime');\n                        }}\n                    />\n                    <TextField\n                        id=\"end-minute\"\n                        title=\"Minute\"\n                        type=\"tel\"\n                        floatingLabelFixed={true}\n                        floatingLabelText='Minute'\n                        value={this.state.endTime.minute}\n                        style={{width: '65px', height: '64px', fontSize: '14px'}}\n                        onChange={value => {\n                            this._handleOnChange('endTime', value);\n                        }}\n                        onKeyDown={event => {\n                            this._handleOnKeyDown(event, 'minute', 'endTime');\n                        }}\n                    />\n                    <TextField\n                        id=\"end-second\"\n                        title=\"Second\"\n                        type=\"tel\"\n                        floatingLabelFixed={true}\n                        floatingLabelText='Second'\n                        value={this.state.endTime.second}\n                        style={{width: '65px', height: '64px', fontSize: '14px'}}\n                        onChange={value => {\n                            this._handleOnChange('endTime', value);\n                        }}\n                        onKeyDown={event => {\n                            this._handleOnKeyDown(event, 'second', 'endTime');\n                        }}\n                    />\n                    <div className=\"temporalFilter__time-btn\">\n                        <span className=\"fa fa-hourglass-end\" onClick={this._setEndOfDay}></span>\n                    </div>\n                </div>\n                <div className=\"temporalFilter__ranges\">\n                    {ranges}\n                </div>\n                <div className=\"temporalFilter__controls\">\n                    <RaisedButton\n                        icon={<i className=\"fa fa-caret-left\"></i>}\n                        buttonStyle={{width: '35px'}}\n                        style={{minWidth: '35px'}}\n                        backgroundColor=\"#9e9e9e\"\n                        onClick={() => {\n                            this._stepRange('backward');\n                        }}\n                    />\n                    <RaisedButton\n                        className=\"temporalFilter__controls-apply\"\n                        label=\"Apply\"\n                        buttonStyle={{width: '100px'}}\n                        primary={this.state.isModified}\n                        onClick={() => {\n                            this._updateSettings(this.state.start, this.state.end);\n                        }}\n                        disabled={disabled}\n                    />\n                    <RaisedButton\n                        icon={<i className=\"fa fa-caret-right\"></i>}\n                        buttonStyle={{width: '35px'}}\n                        style={{minWidth: '35px'}}\n                        backgroundColor=\"#9e9e9e\"\n                        onClick={() => {\n                            this._stepRange('forward');\n                        }}\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nTemporalFilterComponent.propTypes = {\n    config: PropTypes.object,\n    settings: PropTypes.object\n};\n\nconst mapStateToProps = state => {\n    return {\n        config: state.config,\n        settings: state.settings\n    }\n};\n\nexport default connect(mapStateToProps, {\n    updateSettings,\n    fetchData\n})(TemporalFilterComponent);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport * as _ from 'lodash';\n\nimport IconButton from 'material-ui/IconButton';\nimport BlockIcon from 'material-ui/svg-icons/content/block';\nimport ThumbUpIcon from 'material-ui/svg-icons/action/thumb-up';\nimport ThumbDownIcon from 'material-ui/svg-icons/action/thumb-down';\nimport PersonIcon from 'material-ui/svg-icons/social/person';\nimport PeopleIcon from 'material-ui/svg-icons/social/people';\n\nimport {updateSettings} from '../../state/actions/settingsActions';\nimport {fetchData} from '../../state/actions/dataActions';\n\nimport './component.css';\n\nclass VoteFilterComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            noBtnColor: '#fff',\n            upBtnColor: '#fff',\n            downBtnColor: '#fff'\n        };\n\n        this._updateData = this._updateData.bind(this);\n        this._handleOnChange = this._handleOnChange.bind(this);\n        this._setBtnColors = this._setBtnColors.bind(this);\n    }\n\n    _updateData() {\n        // data url based on filter properties\n        const bounds = this.props.bounds;\n        const dataUrl = `${this.props.config.dataUrl}/events?minlon=${bounds._southWest.lng}&minlat=${bounds._southWest.lat}&maxlon=${bounds._northEast.lng}&maxlat=${bounds._northEast.lat}&start=${this.props.settings.start}&end=${this.props.settings.end}&filterByNoVote=${this.props.settings.filterByNoVote}&filterByUpvote=${this.props.settings.filterByUpvote}&filterByDownvote=${this.props.settings.filterByDownvote}&filterByUserVotes=${this.props.settings.filterByUserVotes}`;\n        this.props.fetchData(dataUrl);\n    }\n\n    _handleOnChange(key, value) {\n        const newSettings = Object.assign({}, this.props.settings);\n        if (\n            key === 'filterByNoVote' &&\n            value === true &&\n            (this.props.settings.filterByUpvote || this.props.settings.filterByDownvote)\n        ) {\n            newSettings.filterByUpvote = false;\n            newSettings.filterByDownvote = false;\n        } else if ((key === 'filterByUpvote' || key === 'filterByDownvote') && this.props.settings.filterByNoVote) {\n            newSettings.filterByNoVote = false;\n        }\n        newSettings[key] = value;\n        this.props.updateSettings(newSettings);\n    }\n\n    _setBtnColors() {\n        this.setState({\n            noBtnColor: this.props.settings.filterByNoVote &&\n                !this.props.settings.filterByUpvote &&\n                !this.props.settings.filterByDownvote ? '#0097a7' : '#fff',\n            upBtnColor: this.props.settings.filterByUpvote && !this.props.settings.filterByNoVote ?\n                '#0097a7' :\n                '#fff',\n            downBtnColor: this.props.settings.filterByDownvote && !this.props.settings.filterByNoVote ?\n                '#0097a7' :\n                '#fff'\n        });\n    }\n\n    componentDidMount() {\n        this._setBtnColors();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.settings && !_.isEqual(prevProps.settings, this.props.settings)) {\n            this._setBtnColors();\n            if (\n                prevProps.settings.filterByNoVote !== this.props.settings.filterByNoVote ||\n                prevProps.settings.filterByUpvote !== this.props.settings.filterByUpvote ||\n                prevProps.settings.filterByDownvote !== this.props.settings.filterByDownvote ||\n                prevProps.settings.filterByUserVotes !== this.props.settings.filterByUserVotes\n            ) {\n                // only update data when vote filter settings have changed\n                this._updateData();\n            }\n        }\n    }\n\n    render() {\n        const userFilterIcon = this.props.settings.filterByUserVotes ? <PersonIcon/> : <PeopleIcon/>;\n        const userFilterTooltip = this.props.settings.filterByUserVotes ? 'Show Your Votes' : 'Show All Votes';\n        return(\n            <div>\n                <div className=\"voteFilter\">\n                    <div>Vote Filter</div>\n                    <div className=\"voteFilter__btns\">\n                        <IconButton\n                            className=\"voteFilter_user\"\n                            tooltip={userFilterTooltip}\n                            onClick={() => {\n                                this._handleOnChange('filterByUserVotes', !this.props.settings.filterByUserVotes);\n                            }}\n                        >\n                            {userFilterIcon}\n                        </IconButton>\n                        <div className=\"divider\">&nbsp;</div>\n                        <IconButton\n                            className=\"voteFilter__novote\"\n                            tooltip=\"Events without votes\"\n                            onClick={() => {\n                                this._handleOnChange('filterByNoVote', !this.props.settings.filterByNoVote);\n                            }}\n                        >\n                            <BlockIcon color={this.state.noBtnColor}/>\n                        </IconButton>\n                        <IconButton\n                            className=\"voteFilter__upvote\"\n                            tooltip=\"Upvoted events\"\n                            onClick={() => {\n                                this._handleOnChange('filterByUpvote', !this.props.settings.filterByUpvote);\n                            }}\n                        >\n                            <ThumbUpIcon color={this.state.upBtnColor}/>\n                        </IconButton>\n                        <IconButton\n                            className=\"voteFilter__downvote\"\n                            tooltip=\"Downvoted events\"\n                            tooltipPosition=\"bottom-left\" onClick={() => {\n                                this._handleOnChange('filterByDownvote', !this.props.settings.filterByDownvote);\n                            }}\n                        >\n                            <ThumbDownIcon color={this.state.downBtnColor}/>\n                        </IconButton>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nVoteFilterComponent.propTypes = {\n    config: PropTypes.object,\n    settings: PropTypes.object\n};\n\nconst mapStateToProps = state => {\n    return {\n        config: state.config,\n        settings: state.settings\n    }\n};\n\nexport default connect(mapStateToProps, {\n    updateSettings,\n    fetchData\n})(VoteFilterComponent);\n","import 'whatwg-fetch';\n\nfunction checkStatus(response) {\n    if (response.status >= 200 && response.status < 300) {\n        return response;\n    } else {\n        let error = new Error(response.statusText);\n        error.response = response;\n        throw error;\n    }\n}\n\nclass StatefulApi {\n    static getVersion(url) {\n        return new Promise((resolve, reject) => {\n            fetch(url).then(checkStatus).then(response => {\n                return response.json();\n            }).then(results => {\n                resolve(results);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n\n    static getState(url) {\n        return new Promise((resolve, reject) => {\n            fetch(url).then(checkStatus).then(response => {\n                return response.json();\n            }).then(results => {\n                resolve(results);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n\n    static setState(url, data) {\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            }).then(checkStatus).then(response => {\n                return response.json();\n            }).then(results => {\n                resolve(results);\n            }).catch(error => {\n                reject(error);\n            });\n        });\n    }\n}\nexport default StatefulApi;\n","import * as types from './configActionTypes';\n\nexport function updateConfig(config) {\n    return {\n        type: types.CONFIG__UPDATE_CONFIG,\n        config\n    };\n}\n\nexport function saveConfig(config) {\n    return {\n        type: types.CONFIG__SAVE_CONFIG,\n        config\n    }\n}\n","import * as types from './eventsActionTypes';\nimport DataApi from '../../api/DataApi';\nimport * as _ from 'lodash';\n\nfunction getEvent(event) {\n    return {\n        type: types.EVENTS__EVENT_SELECTED,\n        event\n    }\n}   \n\nfunction fetchPending(event) {\n    return {\n        type: types.EVENTS__FETCH_EVENT_DATA_PENDING,\n        event\n    }\n}\n\nfunction fetchSuccess(event) {\n    return {\n        type: types.EVENTS__FETCH_EVENT_DATA_SUCCESS,\n        event\n    };\n}\n\nfunction fetchError(eventError) {\n    return {\n        type: types.EVENTS__FETCH_EVENT_DATA_ERROR,\n        eventError\n    };\n}\n\nexport function selectEvent(event) {\n    return (dispatch) => {\n        dispatch(getEvent(event));\n    }\n}\n\nexport function putEventData(url, payload) {\n    return (dispatch) => {\n        dispatch(fetchPending(payload));\n        return DataApi.putData(url, payload).then(event => {\n            dispatch(fetchSuccess(event));\n        }).catch(error => {\n            dispatch(fetchError(error));\n        })\n    }\n}\n\nexport function editEvent(event) {\n    return (dispatch) => {\n        dispatch({\n            type: event.new ? types.EVENTS__EVENT_NEW_UPDATE : types.EVENTS__EVENT_EDITED,\n            event\n        });\n    };\n}\n\nexport function resetEvent(url) {\n    return (dispatch) => {\n        dispatch(fetchPending({}));\n        return DataApi.fetchData(url).then(eventObj => {\n            const event = _.cloneDeep(eventObj);\n            if (event.notes === null) {\n                event.notes = '';\n            }\n\n            dispatch({\n                type: types.EVENT__EVENT_RESET,\n                event\n            });\n        }).catch(error => {\n            dispatch(fetchError(error))\n        });\n    }\n}\n\nexport function closeEvent(event) {\n    return (dispatch) => {\n        dispatch({\n            type: types.EVENTS__EVENT_CLOSE,\n            event\n        });\n    };\n}\n\nexport function refreshEventDetails(url) {\n    return (dispatch) => {\n        return DataApi.fetchData(url).then(eventObj => {\n            let event = _.cloneDeep(eventObj);\n            if (event.notes === null) {\n                event.notes = '';\n            }\n            if (event.first_name === null) {\n                event.first_name = '';\n            }\n            if (event.last_name === null) {\n                event.last_name = '';\n            }\n            dispatch({\n                type: types.EVENT__EVENT_REFRESH,\n                event\n            });\n        }).catch(error => {\n            dispatch(fetchError(error));\n        });\n    }\n} \n\nexport function createNewEvent(curEvent) {\n    return (dispatch) => {\n        const event = _.cloneDeep(curEvent);\n        event.event_id = DataApi.getNewEventId();\n        event.notes = '';\n        event.first_name = '';\n        event.last_name = '';\n        dispatch({\n            type: types.EVENT__EVENT_NEW,\n            event\n        });\n    }\n}\n\nexport function updateNewEvent(event) {\n    return (dispatch) => {\n        dispatch({\n            type: types.EVENTS__EVENT_NEW_UPDATE,\n            event\n        })\n    }\n}\n\nexport function resetNewEvent(curEvent) {\n    return (dispatch) => {\n        const event = _.cloneDeep(curEvent);\n        event.event_lat = ''; \n        event.event_lon = '';\n        event.notes = '';\n        event.first_name = '';\n        event.last_name = '';\n        dispatch({\n            type: types.EVENT__EVENT_NEW_RESET,\n            event\n        })\n    }\n}\n\nexport function cancelNewEvent(curEvent) {\n    return (dispatch) => {\n        const event = _.cloneDeep(curEvent);\n        dispatch({\n            type: types.EVENT__EVENT_NEW_CANCEL,\n            event\n        })\n    }\n}\n","import * as types from './eventVotesActionTypes';\nimport DataApi from '../../api/DataApi';\n\nfunction fetchPending(eventVotes) {\n    return {\n        type: types.EVENT_VOTES__FETCH_PENDING,\n        eventVotes\n    };\n}\n\nfunction fetchSuccess(eventVotes) {\n    return {\n        type: types.EVENT_VOTES__FETCH_SUCCESS,\n        eventVotes\n    };\n}\n\nfunction fetchError(eventVotesError) {\n    return {\n        type: types.EVENT_VOTES__FETCH_ERROR,\n        eventVotesError\n    };\n}\n\nexport function fetchEventVotes(url) {\n    return (dispatch) => {\n        dispatch(fetchPending({}));\n        return DataApi.fetchData(url).then(data => {\n            dispatch(fetchSuccess({results: data}));\n        }).catch(error => {\n            dispatch(fetchError(error))\n        });\n    };\n}\n","import * as types from './userVotesActionTypes';\nimport DataApi from '../../api/DataApi';\n\nfunction fetchPending(userVotes) {\n    return {\n        type: types.USER_VOTES__FETCH_PENDING,\n        userVotes\n    };\n}\n\nfunction fetchSuccess(userVotes) {\n    return {\n        type: types.USER_VOTES__FETCH_SUCCESS,\n        userVotes\n    };\n}\n\nfunction fetchError(userVotesError) {\n    return {\n        type: types.USER_VOTES__FETCH_ERROR,\n        userVotesError\n    };\n}\n\nexport function fetchUserVotes(url) {\n    return (dispatch) => {\n        dispatch(fetchPending({}));\n        return DataApi.fetchData(url).then(data => {\n            dispatch(fetchSuccess({results: data}));\n        }).catch(error => {\n            dispatch(fetchError(error));\n        });\n    };\n}\n","import * as types from './mapActionTypes';\n\nfunction getCoordinates(event) {\n    return {\n        type: types.MAP__FLY_TO_EVENT,\n        event\n    }\n}\n\nfunction getClearCoordinates() {\n    return {\n        type: types.MAP__CLEAR_EVENTS\n    }\n}\n\nexport function flyToCoordinates(event) {\n    return (dispatch) => {\n        dispatch(getCoordinates(event));\n    };\n}\n\nexport function clearCoordinates() {\n    return (dispatch) => {\n        dispatch(getClearCoordinates());\n    };\n}\n","import React from 'react';\n\nconst ShareToast = props => {\n    return (\n        <div className=\"toast-content\">\n            <h3>Share Application State</h3>\n            <a href={props.href}>{props.href}</a>\n        </div>\n    );\n};\n\nexport default ShareToast;\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {ToastContainer, toast} from 'react-toastify';\nimport * as _ from 'lodash';\nimport moment from 'moment';\nimport {AutoSizer, List, CellMeasurer, CellMeasurerCache} from 'react-virtualized';\n\nimport CircularProgress from 'material-ui/CircularProgress';\nimport Dialog from 'material-ui/Dialog';\nimport Drawer from 'material-ui/Drawer';\nimport Divider from 'material-ui/Divider';\nimport IconButton from 'material-ui/IconButton';\nimport FlatButton from 'material-ui/FlatButton';\n// import RaisedButton from 'material-ui/RaisedButton';\nimport IconMenu from 'material-ui/IconMenu';\nimport MenuItem from 'material-ui/MenuItem';\n\nimport ActionHelp from 'material-ui/svg-icons/action/help';\nimport ActionCached from 'material-ui/svg-icons/action/cached';\nimport FileCloudDownload from 'material-ui/svg-icons/file/cloud-download';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport ContentSave from 'material-ui/svg-icons/content/save';\nimport SocialShare from 'material-ui/svg-icons/social/share';\nimport ThumbDownIcon from 'material-ui/svg-icons/action/thumb-down';\n\nimport TemporalFilterComponent from './temporalFilter/component';\nimport VoteFilterComponent from './voteFilter/component';\n\nimport DataApi from '../api/DataApi';\nimport StatefulApi from '../api/StatefulApi';\nimport {updateConfig, saveConfig} from '../state/actions/configActions';\nimport {updateSettings, resetSettings} from '../state/actions/settingsActions';\nimport {fetchData, clearData} from '../state/actions/dataActions';\nimport {selectEvent, resetEvent } from '../state/actions/eventsActions';\nimport {fetchEventVotes} from '../state/actions/eventVotesActions';\nimport {fetchUserVotes} from '../state/actions/userVotesActions';\nimport {flyToCoordinates, clearCoordinates} from '../state/actions/mapActions';\nimport StatusToast from '../toast/StatusToast';\nimport ShareToast from '../toast/ShareToast';\n\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport 'react-virtualized/styles.css';\nimport './component.css';\n\nclass SettingsComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.cache = new CellMeasurerCache({\n            fixedWidth: true,\n            defaultHeight: 100\n        });\n\n        this.state = {\n            showHelp: false,\n            dataUrl: this.props.config.dataUrl,\n            pending: false,\n            eventIdx: 0,\n            userVotes: null,\n            windowWidth: 1,\n            windowHeight: 1,\n            csvPending: false\n        };\n\n        this.listRef = React.createRef();\n\n        this._handleHelpOpen = this._handleHelpOpen.bind(this);\n        this._handleHelpClose = this._handleHelpClose.bind(this);\n        this._saveConfig = this._saveConfig.bind(this);\n        this._resetConfig = this._resetConfig.bind(this);\n        this._exportCsv = this._exportCsv.bind(this);\n        this._handleOnChange = this._handleOnChange.bind(this);\n        this._updateData = this._updateData.bind(this);\n        this._updateDimensions = this._updateDimensions.bind(this);\n        this._rowRenderer = this._rowRenderer.bind(this);\n    }\n\n    _handleHelpOpen() {\n        this.setState({ showHelp: true });\n    }\n\n    _handleHelpClose() {\n        this.setState({ showHelp: false });\n    }\n\n    _saveConfig() {\n        let newConfig = _.cloneDeep(this.props.config);\n        newConfig.viewport = this.props.viewport;\n        newConfig.settings = this.props.settings;\n        this.props.saveConfig(newConfig);\n        if (!toast.isActive(this.settingsToast)) {\n            this.settingsToast = toast(\n                <StatusToast title=\"Application state saved.\"/>,\n                {type: toast.TYPE.SUCCESS}\n            );\n        }\n    }\n\n    _resetConfig() {\n        this.props.updateConfig(this.props.defaultConfig);\n        this.props.saveConfig(this.props.defaultConfig);\n        this.props.resetSettings(this.props.defaultConfig);\n        if (!toast.isActive(this.settingsToast)) {\n            this.settingsToast = toast(\n                <StatusToast title=\"Application state reset.\"/>,\n                {type: toast.TYPE.SUCCESS}\n            );\n        }\n    }\n\n    _exportCsv() {\n        this.setState({\n            csvPending: true\n        }, () => {\n            DataApi.fetchData(`${this.props.config.dataUrl}/events?filterByUpvote=true`).then(data => {\n                DataApi.postData(`${this.props.config.erisDownloadUrl}/api/eris-truth/csv`, {\n                    data: data,\n                    erisUrl: this.props.config.erisUrl\n                }).then(response => {\n                    this.setState({\n                        csvPending: false\n                    }, () => {\n                        if (response.message) {\n                            toast(\n                                <StatusToast title=\"CSV Export\" message={response.message}/>,\n                                {type: toast.TYPE.INFO}\n                            );\n                        } else if (response.file) {\n                            const a = document.createElement('a');\n                            document.body.appendChild(a);\n                            a.style = 'display: none';\n                            a.href = response.file;\n                            a.click();\n                        } else if (response.error) {\n                            toast(\n                                <StatusToast title=\"CSV Export\" message={response.error.message}/>,\n                                {type: toast.TYPE.ERROR}\n                            );\n                        }\n                    });\n                }).catch(err => {\n                    toast(<StatusToast title=\"Error generating CSV\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                        type: toast.TYPE.ERROR\n                    });\n                });\n            }).catch(err => {\n                toast(<StatusToast title=\"Error retrieving events\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            });\n        });\n    }\n\n    _handleOnChange(key, value) {\n        let newSettings = Object.assign({}, this.props.settings);\n        newSettings[key] = value;\n        this.props.updateSettings(newSettings);\n    }\n\n    _handleEventClicked(event) {\n        const eventObj = _.cloneDeep(event);\n        if (eventObj.notes === null) {\n            eventObj.notes = '';\n        }\n        if (eventObj.first_name === null) {\n            eventObj.first_name = '';\n        }\n        if (eventObj.last_name === null) {\n            eventObj.last_name = '';\n        }\n\n        if (eventObj.event_id === this.props.event.event_id) {\n            eventObj.open = false;\n        }\n\n        this.props.selectEvent(eventObj);\n        this.props.flyToCoordinates(eventObj);\n        this.props.fetchEventVotes(`${this.props.config.dataUrl}/votes/event/${eventObj.event_id}`);\n    }\n\n    _updateData() {\n        // data url based on filter properties\n        const bounds = this.props.bounds;\n        const dataUrl = `${this.props.config.dataUrl}/events?minlon=${bounds._southWest.lng}&minlat=${bounds._southWest.lat}&maxlon=${bounds._northEast.lng}&maxlat=${bounds._northEast.lat}&start=${this.props.settings.start}&end=${this.props.settings.end}&filterByNoVote=${this.props.settings.filterByNoVote}&filterByUpvote=${this.props.settings.filterByUpvote}&filterByDownvote=${this.props.settings.filterByDownvote}&filterByUserVotes=${this.props.settings.filterByUserVotes}`;\n        this.props.fetchData(dataUrl);\n    }\n\n    _handleDownvoteClicked(e, event) {\n        // Don't let the gridTile consume the event\n        e.stopPropagation();\n        e.preventDefault();\n        const voteObj = {\n            event_id: event.event_id,\n            vote: false,\n            vote_time: moment.utc().toISOString(),\n            event_time: moment.utc(event.event_time).toISOString(),\n            geo_confidence: false,\n            off_camera: false\n        };\n\n        const userVote = this._getUserVote(event);\n\n        if (userVote && userVote.vote === true) {\n            // user previously voted up this event, so change it\n            DataApi.putData(`${this.props.config.dataUrl}/votes/${userVote.vote_id}`, voteObj).then(() => {\n                toast(\n                    <StatusToast title=\"Vote updated\"/>,\n                    {type: toast.TYPE.SUCCESS}\n                );\n                this.props.fetchUserVotes(`${this.props.config.dataUrl}/votes/voter`);\n            }).catch(err => {\n                toast(<StatusToast title=\"Error updating vote\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            });\n        } else if (userVote && userVote.vote === false) {\n            // user previously voted down this event, so undo it\n            DataApi.deleteData(`${this.props.config.dataUrl}/votes/${userVote.vote_id}`).then(() => {\n                toast(\n                    <StatusToast title=\"Downvote removed\"/>,\n                    {type: toast.TYPE.SUCCESS}\n                );\n                this.props.fetchUserVotes(`${this.props.config.dataUrl}/votes/voter`);\n            }).catch(err => {\n                toast(<StatusToast title=\"Error deleting vote\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            });\n        } else {\n            // user hasn't voted on this event yet\n            DataApi.postData(`${this.props.config.dataUrl}/votes`, voteObj).then(() => {\n                toast(\n                    <StatusToast title=\"Vote saved\"/>,\n                    {type: toast.TYPE.SUCCESS}\n                );\n                this.props.fetchUserVotes(`${this.props.config.dataUrl}/votes/voter`);\n            }).catch(err => {\n                toast(<StatusToast title=\"Error adding vote\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            });\n        }\n    }\n\n    _getUserVote(event) {\n        return _.find(this.state.userVotes, {event_id: event.event_id});\n    }\n\n    _updateDimensions() {\n        const w = window,\n            d = document,\n            documentElement = d.documentElement,\n            body = d.getElementsByTagName('body')[0],\n            width = w.innerWidth || documentElement.clientWidth || body.clientWidth,\n            height = w.innerHeight || documentElement.clientHeight || body.clientHeight;\n\n        const eventsListEl = document.querySelector('.events__list');\n        const distanceFromTop = Math.floor(eventsListEl.getBoundingClientRect().top);\n        const eventsListElHeight = (height - distanceFromTop) - 10;\n        eventsListEl.style.height = `${eventsListElHeight}px`;\n\n        this.setState({\n            windowWidth: width,\n            windowHeight: height\n        });\n    }\n\n    _rowRenderer({index, key, style, parent}) {\n        const unavailable = `${process.env.PUBLIC_URL}/unavailable.png`;\n        const event = this.props.data.results[index];\n        const userVote = this._getUserVote(event);\n\n        let downvoteBtn = null;\n        if (userVote === null || typeof userVote === 'undefined' || !_.has(userVote, 'vote')) {\n            downvoteBtn = <IconButton className=\"grid__event-downvote\" onClick={e => {\n                this._handleDownvoteClicked(e, event);\n            }}>\n                <ThumbDownIcon color=\"#fff\"/>\n            </IconButton>;\n        }\n\n        return (\n            <CellMeasurer key={key} cache={this.cache} parent={parent} columnIndex={0} rowIndex={index}>\n                {({measure}) => (\n                    <div style={style}>\n                        <div onClick={() => { this._handleEventClicked(event); }}\n                             onMouseOver={() => { this.props.onEventHover(event); }}\n                             onMouseOut={() => { this.props.onEventHover(null); }}\n                             className={this.props.event.event_id === event.event_id ?\n                                 'grid__event grid__event-selected' :\n                                 'grid__event'}>\n                            <div className=\"grid__event-header-bar\">\n                                <div cols={1} rows={1} className=\"grid__event-header\">\n                                    <div className=\"grid__event-header-title\">{event.event_id}</div>\n                                    <div className=\"grid__event-header-subtitle\">\n                                        <span>\n                                            ({parseFloat(event.event_lat).toPrecision(6)},\n                                            {parseFloat(event.event_lon).toPrecision(6)})\n                                        </span>\n                                    </div>\n                                </div>\n                                <div className=\"grid__event-icon\">\n                                    {downvoteBtn}\n                                </div>\n                            </div>\n                            <img\n                                onLoad={measure}\n                                src={event.gif_path}\n                                className=\"freezeframe freezeframe-responsive\"\n                                onError={e => {\n                                    e.target.onerror = null;\n                                    e.target.src = unavailable;\n                                }}\n                                height=\"auto\"\n                                width=\"100%\"\n                                alt=\"alt\"\n                            />\n                        </div>\n                    </div>\n                )}\n            </CellMeasurer>\n        );\n    }\n\n    componentDidMount() {\n        if (this.props.config.stateful) {\n            if (!this.props.stateful.value) {\n                toast(\n                    <StatusToast title=\"Unable to contact state server\" message={this.props.stateful.error}/>,\n                    {type: toast.TYPE.ERROR}\n                );\n            } else if (this.props.stateful.error) {\n                toast(\n                    <StatusToast title=\"State server error\" message={this.props.stateful.error}/>,\n                    {type: toast.TYPE.ERROR}\n                );\n            }\n        }\n        this.props.fetchUserVotes(`${this.props.config.dataUrl}/votes/voter`);\n\n        window.addEventListener('resize', this._updateDimensions);\n        this._updateDimensions();\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!_.isEqual(prevProps.data, this.props.data) && this.props.data.refresh) {\n            this._updateData();\n        }\n\n        // check for fetch status\n        if (this.props.data && !_.isEqual(prevProps.data, this.props.data)) {\n            this.setState({\n                pending: this.props.data.pending,\n            });\n            if (this.props.data.results && this.props.data.results.error) {\n                if (!toast.isActive(this.fetchToast)) {\n                    this.fetchToast = toast(\n                        <StatusToast title=\"Data Error\" message={this.props.data.results.error.toString()}/>,\n                        {type: toast.TYPE.ERROR}\n                    );\n                }\n            }\n        } else if (!_.isEqual(prevProps.event, this.props.event)) {\n            if (this.props.event.refresh) {\n                // Simply updating panel details\n                this._updateData();\n            } else {\n                // new event was selected, so scroll to it\n                this.setState({\n                    eventIdx: _.findIndex(this.props.data.results, result => {\n                        return result.event_id === this.props.event.event_id;\n                    })\n                });\n            }\n        }\n\n        if (this.props.userVotes && !_.isEqual(prevProps.userVotes, this.props.userVotes)) {\n            if (this.props.userVotes.error) {\n                if (!toast.isActive(this.fetchToast)) {\n                    this.fetchToast = toast(\n                        <StatusToast title=\"Error retrieving user votes\"\n                                     message={this.props.userVotes.error.toString()}/>,\n                        {type: toast.TYPE.ERROR}\n                    );\n                }\n            } else if (!this.props.userVotes.pending) {\n                this.setState({\n                    userVotes: this.props.userVotes.results\n                }, () => {\n                    // rerender event list to update downvote icons where necessary\n                    this.listRef.current.forceUpdateGrid();\n                });\n            }\n        }\n\n        if (this.props.eventVotes && !_.isEqual(prevProps.eventVotes, this.props.eventVotes)) {\n            if (this.props.eventVotes.error) {\n                if (!toast.isActive(this.fetchToast)) {\n                    this.fetchToast = toast(\n                        <StatusToast title=\"Error retrieving event votes\"\n                                     message={this.props.eventVotes.error.toString()}/>,\n                        {type: toast.TYPE.ERROR}\n                    );\n                }\n            }\n        }\n\n        const eventNotesEl = document.querySelector('#event-notes');\n        const firstNameEl = document.querySelector('#event-first-name');\n        const lastNameEl = document.querySelector('#event-last-name');\n        if (!_.isEqual(eventNotesEl, document.activeElement) &&\n            !_.isEqual(firstNameEl, document.activeElement) &&\n            !_.isEqual(lastNameEl, document.activeElement)) {\n            if (this.props.hotkey && !_.isEqual(prevProps.hotkey, this.props.hotkey)) {\n                if (this.props.data.results && (\n                    this.props.hotkey.key === 'w' ||\n                    this.props.hotkey.key === 's' ||\n                    this.props.hotkey.key === 'a' ||\n                    this.props.hotkey.key === 'd'\n                )) {\n                    if (!this.props.event || _.keys(this.props.event).length === 0) {\n                        // no event currently selected, so go to the first one\n                        this._handleEventClicked(this.props.data.results[0]);\n                        this.setState({\n                            eventIdx: 0\n                        });\n                    } else {\n                        // determine if use wants to step back (a) or forward (d)\n                        let eventIdx = null;\n                        if (this.props.hotkey.key === 'a') {\n                            eventIdx = this.state.eventIdx > 0 ?\n                                this.state.eventIdx - 1 :\n                                this.props.data.results.length - 1;\n                        } else if (\n                            this.props.hotkey.key === 's' ||\n                            this.props.hotkey.key === 'w' ||\n                            this.props.hotkey.key === 'd'\n                        ) {\n                            // also move forward when voting event up (w) or down (s)\n                            eventIdx = (this.props.data.results.length - 1) >= this.state.eventIdx + 1 ?\n                                this.state.eventIdx + 1 :\n                                0;\n                        }\n                        this.setState({\n                            eventIdx: eventIdx\n                        }, () => {\n                            this._handleEventClicked(this.props.data.results[this.state.eventIdx]);\n                        });\n                    }\n                } else if (this.props.hotkey.key === 'f') {\n                    this._updateData();\n                }\n            }\n        }\n    }\n\n    render() {\n        const shareOption = this.props.config.stateful ?\n            <MenuItem leftIcon={<SocialShare/>} primaryText=\"Share\" onClick={this.props.share}/> :\n            null;\n        const helpActions = [\n            <FlatButton label=\"Close\" secondary={true} onClick={this._handleHelpClose}/>\n        ];\n        const progress = this.state.pending ? <CircularProgress/> : null;\n        const csvProgress = this.state.csvPending ? <CircularProgress size={25} thickness={2.5}/> : null;\n\n        let total = 0;\n        if (this.props.data.results && Array.isArray(this.props.data.results)) {\n            if (Array.isArray(this.props.data.results)) {\n                total = this.props.data.results.length || 0;\n            }\n        }\n\n        window.$('.freezeframe').freezeframe();\n\n        return (\n            <div className=\"settings\">\n                <Drawer width=\"25%\" containerClassName=\"settings__drawer\">\n                    <div className=\"settings__actions\">\n                        <h1>Eris Truth {csvProgress}</h1>\n                        <IconMenu iconButtonElement={<IconButton><MoreVertIcon/></IconButton>}\n                                  anchorOrigin={{horizontal: 'right', vertical: 'top'}}\n                                  targetOrigin={{horizontal: 'right', vertical: 'top'}}\n                                  className=\"settings__menu\">\n                            <MenuItem leftIcon={<ContentSave/>} primaryText=\"Save\" onClick={this._saveConfig}/>\n                            <MenuItem leftIcon={<ActionCached/>} primaryText=\"Reset\" onClick={this._resetConfig} />\n                            {shareOption}\n                            <MenuItem leftIcon={<FileCloudDownload/>} primaryText=\"Export\" onClick={this._exportCsv} />\n                            <Divider />\n                            <MenuItem leftIcon={<ActionHelp/>} primaryText=\"Help\" onClick={this._handleHelpOpen}/>\n                        </IconMenu>\n                    </div>\n                    <div className=\"settings__filters\">\n                        <VoteFilterComponent bounds={this.props.bounds}/>\n                        <TemporalFilterComponent bounds={this.props.bounds}/>\n                    </div>\n                    <h3 className=\"text-center margin-bottom-sm\">Events ({total})</h3>\n                    <div className=\"events__list\">\n                        <div className=\"settings__loading\">\n                            {progress}\n                        </div>\n                        <AutoSizer>\n                            {({width, height}) => (\n                                <List\n                                    ref={this.listRef}\n                                    width={width}\n                                    height={height}\n                                    deferredMeasurementCache={this.cache}\n                                    rowHeight={this.cache.rowHeight}\n                                    rowRenderer={this._rowRenderer}\n                                    rowCount={total}\n                                    scrollToIndex={this.state.eventIdx}/>\n                            )}\n                        </AutoSizer>\n                    </div>\n                </Drawer>\n                <ToastContainer\n                    position=\"top-right\"\n                    autoClose={5000}\n                    hideProgressBar={false}\n                    newestOnTop={false}\n                    closeOnClick\n                    pauseOnHover\n                />\n                <Dialog title='Eris Truth Help' modal={false} open={this.state.showHelp}\n                        onRequestClose={this._handleHelpClose} actions={helpActions} autoScrollBodyContent={true}\n                        className=\"settings__help\">\n                    <h4>Menu Options</h4>\n                    <div className=\"settings__help_list\">\n                        <dl>\n                            <dt>Save</dt>\n                            <dd>Save the current filter settings to the browser's local storage.</dd>\n                            <dt>Reset</dt>\n                            <dd>Reset filter settings back to their default values.</dd>\n                        </dl>\n                        <dl>\n                            <dt>Share</dt>\n                            <dd>Save the current state of the app and generate a shareable URL to retrieve it.</dd>\n                            <dt>Export</dt>\n                            <dd>Download a CSV of all the events that users have upvoted.</dd>\n                        </dl>\n                    </div>\n                    <h4>Keyboard Shortcuts</h4>\n                    <div className=\"settings__help_list\">\n                        <dl>\n                            <dt>W</dt>\n                            <dd>Upvote Event</dd>\n                            <dt>S</dt>\n                            <dd>Downvote Event</dd>\n                            <dt>A</dt>\n                            <dd>Previous Event</dd>\n                            <dt>D</dt>\n                            <dd>Next Event</dd>\n                            <dt>F</dt>\n                            <dd>Filter Events</dd>\n                        </dl>\n                        <dl>\n                            <dt>Space</dt>\n                            <dd>Pause/Resume Video</dd>\n                            <dt>Period</dt>\n                            <dd>Increase Video Playback Speed</dd>\n                            <dt>Comma</dt>\n                            <dd>Decrease Video Playback Speed</dd>\n                            <dt>ESC</dt>\n                            <dd>Close Event</dd>\n                        </dl>\n                    </div>\n                </Dialog>\n            </div>\n        );\n    }\n}\n\nSettingsComponent.propTypes = {\n    defaultConfig: PropTypes.object,\n    config: PropTypes.object,\n    settings: PropTypes.object,\n    data: PropTypes.object,\n    share: PropTypes.func,\n    stateful: PropTypes.object,\n    mapPoint: PropTypes.object,\n    event: PropTypes.object,\n    eventVotes: PropTypes.object,\n    userVotes: PropTypes.object\n};\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        defaultConfig: state.defaultConfig,\n        config: state.config,\n        settings: state.settings,\n        data: state.data,\n        mapPoint: state.mapPoint,\n        event: state.event,\n        eventVotes: state.eventVotes,\n        userVotes: state.userVotes,\n        share: () => {\n            try {\n                let data = {\n                    app_name: 'eris-truth',\n                    user_state: JSON.stringify(state)\n                };\n                StatefulApi.setState(`${state.config.stateful}/states`, data).then(result => {\n                    toast(<ShareToast href={`${window.location.origin}/?id=${result.id}`}/>, {\n                        autoClose: false,\n                        closeOnClick: false\n                    });\n                }).catch((err) => {\n                    toast(<StatusToast title=\"Unable to contact state server\" message={err.message}/>, {\n                        type: toast.TYPE.ERROR\n                    });\n                });\n            } catch (err) {\n                toast(<StatusToast title=\"Unable to serialize state\" message={err.message}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            }\n        },\n        stateful: state.stateful\n    };\n};\n\nexport default connect(mapStateToProps, {\n    updateConfig,\n    updateSettings,\n    resetSettings,\n    saveConfig,\n    fetchData,\n    clearData,\n    flyToCoordinates,\n    clearCoordinates,\n    selectEvent,\n    fetchEventVotes,\n    resetEvent,\n    fetchUserVotes\n})(SettingsComponent);\n","import * as types from './defaultConfigActionTypes';\n\nexport function setDefaultConfig(defaultConfig) {\n    return {\n        type: types.DEFAULT_CONFIG__SET_DEFAULT_CONFIG,\n        defaultConfig\n    };\n}\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {toast} from 'react-toastify';\nimport L from 'leaflet';\nimport bbox from 'geojson-bbox';\nimport * as _ from 'lodash';\nimport * as tokml from 'tokml-es';\n\nimport '../../node_modules/leaflet-draw/dist/leaflet.draw';\nimport '../../node_modules/leaflet.coordinates/dist/Leaflet.Coordinates-0.1.5.src';\nimport 'leaflet-defaulticon-compatibility';\n\nimport {FloatingActionButton} from 'material-ui';\nimport Refresh from 'material-ui/svg-icons/navigation/refresh';\n\nimport {selectEvent, editEvent, updateNewEvent} from '../state/actions/eventsActions';\nimport {updateConfig} from '../state/actions/configActions';\nimport {setDefaultConfig} from '../state/actions/defaultConfigActions';\nimport {refreshViewportData} from '../state/actions/dataActions';\nimport {fetchEventVotes} from '../state/actions/eventVotesActions';\nimport StatusToast from '../toast/StatusToast';\n\nimport '../../node_modules/leaflet-draw/dist/leaflet.draw.css';\nimport './component.css';\nimport DataApi from \"../api/DataApi\";\n\nclass MapComponent extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            map: null,\n            viewport: props.config.viewport,\n            refreshStyle: null,\n            hoveredEvent: null,\n            selectedEvent: null,\n            selectedEventMarker: null,\n            dragging: null,\n            addingNewEvent: null,\n            kmlPending: false\n        };\n        this.mapRef = React.createRef();\n        this.eventsGroup = new L.FeatureGroup();\n        this.selectedEventGroup = new L.FeatureGroup();\n        this.drawGroup = new L.FeatureGroup();\n        this.drawControl = new L.Control.Draw({\n            draw: {\n                polyline: false,\n                polygon: false,\n                circle: false,\n                rectangle: false,\n                circlemarker: false\n            },\n            edit: {\n                featureGroup: this.drawGroup\n            }\n        });\n\n        this._handleRefreshClicked = this._handleRefreshClicked.bind(this);\n        this._refreshMap = this._refreshMap.bind(this);\n        this._drawEvent = this._drawEvent.bind(this);\n        this._exportKml = this._exportKml.bind(this);\n    }\n\n    _drawMarker(result) {\n        const marker = L.circleMarker(L.latLng(result.event_lat, result.event_lon), {\n            color: '#ffffff',\n            weight: 2,\n            fillOpacity: 1,\n            radius: 8,\n            fillColor: '#0097a7',\n            event: result\n        });\n        marker.bindPopup(`${result.event_lat}, ${result.event_lon}<br />${result.event_time}`, {'offset': L.point(0, -5), 'autoPan': false});\n        marker.on('mouseover', e => {\n            e.target.openPopup();\n        });\n        marker.on('mouseout', e => {\n            e.target.closePopup();\n        });\n        marker.on('click', () => {\n            this.props.fetchEventVotes(`${this.props.config.dataUrl}/votes/event/${result.event_id}`);\n            this.props.selectEvent(result);\n        });\n        marker.addTo(this.eventsGroup);\n        return marker;\n    }\n\n    _getGeomBounds() {\n        if (this.props.event) {\n            let geometry = null;\n            let geomBounds = null;\n\n            try {\n                geometry = JSON.parse(this.props.event.video_geom);\n            } catch(err) {\n                console.log(err);\n            }\n\n            if (geometry.type === 'Point') {\n                // use point lng/lat\n                geomBounds = L.latLng(geometry.coordinates[1], geometry.coordinates[0]).toBounds(100);\n            } else {\n                // determine extent of polygon, linestring, etc.\n                const extent = bbox(geometry);\n                geomBounds = new L.latLngBounds([[extent[1], extent[0]], [extent[3], extent[2]], [this.props.event.event_lat, this.props.event.event_lon]]);\n            }\n\n            return geomBounds;\n        }\n    }\n\n    _onViewportChange(viewport) {\n        if (!_.isEqual(viewport, this.state.viewport)) {\n            this.viewportChanged = true;\n        }\n\n        this.setState({\n            viewport: {...this.state.viewport, ...viewport},\n            refreshStyle: this.viewportChanged ? {\n                display: 'block',\n                transform: 'scaleY(1)'\n            } : {\n                display: 'none',\n                transform: 'scaleY(0)'\n            }\n        }, () => {\n            this.props.onViewportChange(this.state.viewport);\n            this.props.onBoundsChange(this.state.map.getBounds());\n        });\n    }\n\n    _handleRefreshClicked() {\n        this.setState({\n            refreshStyle: {\n                display: 'none',\n                transform: 'scaleY(0)'\n            }\n        }, () => {\n            this.viewportChanged = false;\n            this.props.refreshViewportData();\n        });\n    }\n\n    _configLayers(layers) {\n        const returnObj = {};\n        _.forEach(layers, layer => {\n            // layers are either tile or wms\n            let options = null;\n            if (layer.options) {\n                options = Object.assign({}, layer.options);\n                options.crs = options.crs === 'EPSG:4326' ? L.CRS.EPSG4326 : L.CRS.EPSG3857;\n            }\n            returnObj[layer.name] = layer.type === 'tile' ?\n                L.tileLayer(layer.url) :\n                L.tileLayer.wms(layer.url, options);\n        });\n        return returnObj;\n    }\n\n    _refreshMap(type) {\n        this.eventsGroup.clearLayers();\n        _.forEach(this.props.data.results, result => {\n            // only avoid currently selected event if called via componentDidUpdate\n            if (type === 'update') {\n                // don't create a circleMarker for the currently selected event (if there is one)\n                if ((this.props.event && this.props.event.event_id !== result.event_id) || !this.props.event) {\n                    this._drawMarker(result);\n                }\n            } else {\n                this._drawMarker(result);\n            }\n        });\n        this.setState({\n            refreshStyle: {\n                display: 'none',\n                transform: 'scaleY(0)'\n            }\n        }, () => {\n            if (type === 'mount' && this.props.event && this.props.event.event_id) {\n                // called via componentDidMount, so draw currently selected event\n                this._drawEvent();\n            }\n        });\n    }\n\n    _drawEvent() {\n        // add draw control\n        this.state.map.addControl(this.drawControl);\n\n        // save current event as selected event and replace the circleMarker with a draggable marker\n        const mapEvent = _.find(this.eventsGroup.getLayers(), {options: {event: {event_id: this.props.event.event_id}}});\n        if (mapEvent) {\n            this.setState({\n                selectedEvent: mapEvent\n            }, () => {\n                const eventLatLng = L.latLng(this.props.event.event_lat, this.props.event.event_lon);\n                this.eventsGroup.removeLayer(mapEvent);\n                const marker = L.marker(eventLatLng, {\n                    draggable: true,\n                    event: mapEvent.options.event\n                });\n                marker.bindPopup(`${this.props.event.event_lat}, ${this.props.event.event_lon}<br />${this.props.event.event_time}`, {\n                    'offset': L.point(0, -5),\n                    'autoPan': false\n                });\n                marker.on('mouseover', e => {\n                    e.target.openPopup();\n                });\n                marker.on('mouseout', e => {\n                    e.target.closePopup();\n                });\n                marker.on('drag', e => {\n                    this.setState({\n                        dragging: true\n                    }, () => {\n                        const newEvent = Object.assign({}, mapEvent.options.event);\n                        newEvent.event_lat = e.latlng.lat;\n                        newEvent.event_lon = e.latlng.lng;\n                        this.props.editEvent(newEvent);\n                        this.props.onDrag(true);\n                    });\n                });\n                marker.on('dragend', () => {\n                    this.setState({\n                        dragging: false\n                    }, () => {\n                        this.props.onDrag(false);\n                    });\n                });\n                marker.addTo(this.selectedEventGroup);\n                this.setState({\n                    selectedEventMarker: marker\n                });\n\n                // draw geojson\n                if (this.props.event.video_geom) {\n                    let videoGeom = null;\n                    try {\n                        videoGeom = JSON.parse(this.props.event.video_geom);\n                        L.geoJSON(videoGeom).addTo(this.selectedEventGroup);\n                    } catch (err) {\n                        console.log('Error parsing geometry');\n                    }\n                }\n\n                this.state.map.flyToBounds(this._getGeomBounds());\n            });\n        }\n    }\n\n    _exportKml() {\n        this.setState({\n            kmlPending: true\n        }, () => {\n            const geoJSON = this.selectedEventGroup.toGeoJSON();\n            _.forEach(geoJSON.features, feature => {\n                feature.properties['event_time'] = this.props.event.event_time;\n            });\n            const kml = tokml(geoJSON, { timestamp: 'event_time' });\n            DataApi.postData(`${this.props.config.erisDownloadUrl}/api/kml`, {\n                kml: kml\n            }).then(response => {\n                this.setState({\n                    kmlPending: false\n                }, () => {\n                    if (response.message) {\n                        toast(\n                            <StatusToast title=\"KML Export\" message={response.message}/>,\n                            {type: toast.TYPE.INFO}\n                        );\n                    } else if (response.file) {\n                        const a = document.createElement('a');\n                        document.body.appendChild(a);\n                        a.style = 'display: none';\n                        a.href = response.file;\n                        a.click();\n                    } else if (response.error) {\n                        toast(\n                            <StatusToast title=\"KML Export\" message={response.error.message}/>,\n                            {type: toast.TYPE.ERROR}\n                        );\n                    }\n                });\n            }).catch(err => {\n                toast(<StatusToast title=\"Error generating KML\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            });\n        });\n    }\n\n    componentDidMount() {\n        const baseLayers = this._configLayers(this.props.config.baseMaps);\n        const overlays = this._configLayers(this.props.config.overlays);\n\n        this.setState({\n            map: L.map('map', {\n                center: this.props.config.viewport.center,\n                zoom: this.props.config.viewport.zoom,\n                layers: [baseLayers[this.props.config.defaultBaseMap]],\n                maxBounds: L.latLngBounds([-90,-180], [90, 180]),\n                keyboard: false,\n                maxZoom: 21\n            })\n        }, () => {\n            // add map controls\n            L.control.scale({imperial: false}).addTo(this.state.map);\n            L.control.layers(baseLayers, overlays).addTo(this.state.map);\n            L.control.coordinates({\n                enableUserInput: false,\n                useLatLngOrder: true\n            }).addTo(this.state.map);\n\n            // add group for drawn markers\n            this.drawGroup.addTo(this.state.map);\n\n            // add groups for event markers\n            this.eventsGroup.addTo(this.state.map);\n            this.selectedEventGroup.addTo(this.state.map);\n\n            const center = this.state.map.getCenter();\n\n            // set initial viewport\n            this.viewportChanged = true;\n            this._onViewportChange({\n                center: [center.lat, center.lng],\n                zoom: this.state.map.getZoom()\n            });\n\n            // register moveend handler\n            this.state.map.on('moveend', () => {\n                this.viewportChanged = true;\n                this._onViewportChange({\n                    center: this.state.map.getCenter(),\n                    zoom: this.state.map.getZoom()\n                });\n            });\n\n            // register draw handler\n            this.state.map.on(L.Draw.Event.CREATED, e => {\n                this.setState({\n                    addingNewEvent: true\n                }, () => {\n                    if (this.state.selectedEvent) {\n                        this.eventsGroup.addLayer(this.state.selectedEvent);\n                        this.selectedEventGroup.removeLayer(this.state.selectedEventMarker);\n                    }\n                    this.props.onNewEvent(e.layer);\n                    this.drawGroup.addLayer(e.layer);\n                });\n            });\n            this.state.map.on(L.Draw.Event.DELETED, () => {\n                this.setState({\n                    addingNewEvent: false\n                }, () => {\n                    this.props.onNewEvent(null);\n                    this.drawGroup.clearLayers();\n                })\n            });\n            if (this.props.data && this.props.data.results) {\n                this._refreshMap('mount');\n                if (this.props.event && this.props.event.event_id) {\n                    this.mapRef.current.style.width = '42%';\n                    this.mapRef.current.style.right = '33%';\n                    this.state.map.invalidateSize();\n                }\n            }\n        });\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!_.isEqual(prevProps.data, this.props.data) && !this.props.data.pending && this.props.data.results) {\n            this._refreshMap('update');\n        }\n\n        if (!_.isEqual(prevProps.hoverEvent, this.props.hoverEvent)) {\n            if (this.props.hoverEvent) {\n                let mapEvent = _.find(this.eventsGroup.getLayers(), {options: {event: {event_id: this.props.hoverEvent.event_id}}});\n                if (mapEvent) {\n                    this.setState({\n                        hoveredEvent: mapEvent\n                    }, () => {\n                        mapEvent.openPopup();\n                    });\n                } else {\n                    // try selected event\n                    mapEvent = _.find(this.selectedEventGroup.getLayers(), {options: {event: {event_id: this.props.hoverEvent.event_id}}});\n                    if (mapEvent) {\n                        this.setState({\n                            hoveredEvent: mapEvent\n                        }, () => {\n                            mapEvent.openPopup();\n                        });\n                    }\n                }\n            } else {\n                if (this.state.hoveredEvent) {\n                    this.state.hoveredEvent.closePopup();\n                    this.setState({\n                        hoveredEvent: null\n                    });\n                }\n            }\n        }\n\n        if (!_.isEqual(prevProps.event, this.props.event) && !this.state.dragging) {\n            if (this.props.event.new) {\n                // noop\n            } else if (this.props.event.refresh) {\n                if (this.state.selectedEvent) {\n                    if (this.state.addingNewEvent) {\n                        if (!_.isEqual(this.props.event, this.state.selectedEvent.options.event)) {\n                            const newEvent = _.cloneDeep(this.state.selectedEvent);\n                            newEvent.options.event = this.props.event;\n                            newEvent._latlng = L.latLng(this.props.event.event_lat, this.props.event.event_lon);\n                            this.setState({\n                                selectedEvent: newEvent\n                            });\n                            this.props.refreshViewportData();\n                        }\n                    } else {\n                        const newEvent = _.cloneDeep(this.state.selectedEvent);\n                        newEvent._latlng = L.latLng(this.props.event.event_lat, this.props.event.event_lon);\n                        this.setState({\n                            selectedEvent: newEvent\n                        });\n                    }\n                }\n                this.setState({\n                    addingNewEvent: false\n                });\n            } else {\n                this.selectedEventGroup.clearLayers();\n                this.drawGroup.clearLayers();\n\n                // add previously selected event back to eventsGroup before removing it from state\n                if (this.state.selectedEvent) {\n                    const result = _.cloneDeep(this.state.selectedEvent.options.event);\n                    result.refresh = false;\n                    const marker = this._drawMarker(result);\n                    this.eventsGroup.addLayer(marker);\n                    this.setState({\n                        selectedEvent: null\n                    });\n                }\n\n                if (this.props.event.close) {\n                    // remove draw control\n                    this.state.map.removeControl(this.drawControl);\n\n                    // set selected event to null on close\n                    this.setState({\n                        selectedEvent: null\n                    });\n                } else {\n                    this._drawEvent();\n                }\n            }\n        }\n\n        if (!_.isEqual(prevProps.eventDrawerStatus, this.props.eventDrawerStatus)) {\n            if (this.props.eventDrawerStatus) {\n                this.mapRef.current.style.width = '42%';\n                this.mapRef.current.style.right = '33%';\n            } else {\n                this.mapRef.current.style.width = '75%';\n                this.mapRef.current.style.right = 0;\n            }\n            // ensure methods like flyTo go to the actual center of the newly sized map\n            this.state.map.invalidateSize();\n        }\n\n        if (!_.isEqual(prevProps.kmlEvent, this.props.kmlEvent)) {\n            this._exportKml();\n        }\n    }\n\n    render() {\n        return (\n            <div id=\"map\" ref={this.mapRef}>\n                <div className=\"map__refresh-map\" style={this.state.refreshStyle}>\n                    <FloatingActionButton mini onClick={this._handleRefreshClicked}>\n                        <Refresh />\n                    </FloatingActionButton>\n                </div>\n            </div>\n        );\n    }\n}\n\nMapComponent.propTypes = {\n    defaultConfig: PropTypes.object,\n    config: PropTypes.object,\n    settings: PropTypes.object,\n    data: PropTypes.object,\n    mapPoint: PropTypes.object,\n    event: PropTypes.object,\n    eventDrawerStatus: PropTypes.bool,\n    stateful: PropTypes.object\n};\n\nconst mapStateToProps = state => ({\n    defaultConfig: state.defaultConfig,\n    config: state.config,\n    settings: state.settings,\n    data: state.data,\n    mapPoint: state.mapPoint,\n    event: state.event,\n    eventDrawerStatus: state.eventDrawerStatus,\n    stateful: state.stateful\n});\n\nexport default connect(mapStateToProps, {\n    updateConfig,\n    setDefaultConfig,\n    selectEvent,\n    editEvent,\n    updateNewEvent,\n    refreshViewportData,\n    fetchEventVotes\n})(MapComponent);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Player, ControlBar, PlaybackRateMenuButton } from 'video-react';\nimport * as _ from 'lodash';\n\nimport {updateSettings} from '../../state/actions/settingsActions';\n\nimport '../../../node_modules/video-react/dist/video-react.css';\nimport './component.css';\n\nclass VideoPlayerComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            source: null\n        };\n    }\n\n    _handleStateChange(state, prevState) {\n        if (prevState.playbackRate !== state.playbackRate) {\n            let newSettings = Object.assign({}, this.props.settings);\n            newSettings.videoSpeed = state.playbackRate;\n            this.props.updateSettings(newSettings);\n        }\n\n        if (!isNaN(state.duration) && prevState.duration !== state.duration) {\n            this.props.onPlayerLoaded(this.refs.player);\n        } else {\n            if (isNaN(state.duration)) {\n                this.props.onPlayerError('Duration value is not a number');\n            }\n        }\n\n        // copy player state to this component's state\n        this.setState({\n            player: state\n        });\n    }\n\n    _handleVideoSpeed(speedUp) {\n        let newSettings = Object.assign({}, this.props.settings);\n        if (speedUp) {\n            newSettings.videoSpeed = this.props.settings.videoSpeed < this.props.settings.maxVideoSpeed ?\n                this.props.settings.videoSpeed * 2 :\n                this.props.settings.minVideoSpeed;\n        } else {\n            newSettings.videoSpeed = this.props.settings.videoSpeed > this.props.settings.minVideoSpeed ?\n                this.props.settings.videoSpeed / 2 :\n                this.props.settings.maxVideoSpeed;\n        }\n        this.refs.player.playbackRate = newSettings.videoSpeed;\n        this.props.updateSettings(newSettings);\n    }\n\n    _handleFrameAdvance(forward) {\n        const { player } = this.refs.player.getState();\n        if (!player.paused) {\n            this.refs.player.pause();\n        }\n        const currentTime = player.currentTime;\n        if (forward) {\n            this.refs.player.seek(currentTime + 0.1);\n        } else {\n            this.refs.player.seek(currentTime - 0.1);\n        }\n    }\n\n    _handlePause() {\n        const { player } = this.refs.player.getState();\n        if (!player.paused) {\n            this.refs.player.pause();\n        } else {\n            this.refs.player.play();\n        }\n    }\n\n    componentDidMount() {\n        // subscribe state change\n        this.refs.player.subscribeToStateChange(this._handleStateChange.bind(this));\n        if (this.props.event && this.props.event.event_id) {\n            this.setState({\n                source: this.props.event.video_path\n            }, () => {\n                this.refs.player.load();\n                this.refs.player.playbackRate = this.props.settings.videoSpeed;\n            });\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.event && _.keys(this.props.event).length > 0) {\n            // check for updated event\n            if (\n                !_.isEqual(prevProps.event, this.props.event) &&\n                prevProps.event.event_id !== this.props.event.event_id\n            ) {\n                this.setState({\n                    source: this.props.event.video_path\n                }, () => {\n                    this.refs.player.load();\n                    this.refs.player.playbackRate = this.props.settings.videoSpeed;\n                });\n            }\n        }\n\n        const eventLatEl = document.querySelector('#event-lat');\n        const eventLonEl = document.querySelector('#event-lon');\n        const eventOffsetEl = document.querySelector('#event-offset');\n        const eventNotesEl = document.querySelector('#event-notes');\n\n        if (\n            !_.isEqual(eventLatEl, document.activeElement) &&\n            !_.isEqual(eventLonEl, document.activeElement) &&\n            !_.isEqual(eventOffsetEl, document.activeElement) &&\n            !_.isEqual(eventNotesEl, document.activeElement)\n        ) {\n            // only listen for hotkeys when lat, lon, offset, and notes don't have focus\n            if (this.props.hotkey && !_.isEqual(prevProps.hotkey, this.props.hotkey)) {\n                if (_.keys(this.props.event).length > 0) {\n                    if (this.props.hotkey.key === '.') {\n                        this._handleVideoSpeed(true);\n                    } else if (this.props.hotkey.key === ',') {\n                        this._handleVideoSpeed(false);\n                    } else if (this.props.hotkey.key === 'ArrowLeft') {\n                        this._handleFrameAdvance(false);\n                    } else if (this.props.hotkey.key === 'ArrowRight') {\n                        this._handleFrameAdvance(true);\n                    } else if (this.props.hotkey.key === ' ') {\n                        this._handlePause();\n                    }\n                }\n            }\n        }\n    }\n\n    render() {\n        const startTime = this.props.event.video_offset_sec - this.props.settings.videoBuffer;\n        return (\n            <div className=\"video\">\n                <Player\n                    ref=\"player\"\n                    startTime={startTime}\n                    autoPlay\n                    loop\n                >\n                    <source src={this.state.source} />\n                    <ControlBar autoHide={false}>\n                        <PlaybackRateMenuButton\n                            rates={[16, 8, 4, 2, 1, 0.5, 0.25, 0.125]}\n                            order={7.1}\n                        />\n                    </ControlBar>\n                </Player>\n            </div>\n        );\n    }\n}\n\nVideoPlayerComponent.propTypes = {\n    settings: PropTypes.object,\n    event: PropTypes.object\n};\n\nconst mapStateToProps = state => {\n    return {\n        settings: state.settings,\n        event: state.event\n    }\n};\n\nexport default connect(mapStateToProps, {\n    updateSettings\n})(VideoPlayerComponent);\n","import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {toast} from 'react-toastify';\nimport * as _ from 'lodash';\nimport moment from 'moment';\n\nimport Card, { CardText, CardActions } from 'material-ui/Card';\nimport Dialog from 'material-ui/Dialog';\nimport Divider from 'material-ui/Divider';\nimport Drawer from 'material-ui/Drawer';\nimport FlatButton from 'material-ui/FlatButton';\nimport IconButton from 'material-ui/IconButton';\nimport GridList, {GridTile} from 'material-ui/GridList';\nimport TextField from 'material-ui/TextField';\nimport IconMenu from 'material-ui/IconMenu';\nimport MenuItem from 'material-ui/MenuItem';\nimport FloatingActionButton from 'material-ui/FloatingActionButton';\nimport ThumbUpIcon from 'material-ui/svg-icons/action/thumb-up';\nimport ThumbDownIcon from 'material-ui/svg-icons/action/thumb-down';\nimport NavigationChevronLeft from 'material-ui/svg-icons/navigation/chevron-left';\nimport NavigationChevronRight from 'material-ui/svg-icons/navigation/chevron-right';\nimport Close from 'material-ui/svg-icons/navigation/close';\nimport DeviceAccessTime from 'material-ui/svg-icons/device/access-time';\n\nimport DataApi from '../api/DataApi';\nimport StatusToast from '../toast/StatusToast';\nimport VideoPlayerComponent from './videoPlayer/component';\nimport {clearCoordinates} from '../state/actions/mapActions';\nimport {setEventDrawerStatus} from '../state/actions/eventDrawerActions';\nimport {fetchData} from '../state/actions/dataActions';\nimport {fetchUserVotes} from '../state/actions/userVotesActions';\nimport {fetchEventVotes} from '../state/actions/eventVotesActions';\nimport {updateSettings} from '../state/actions/settingsActions';\nimport {\n    resetEvent,\n    putEventData,\n    editEvent,\n    closeEvent,\n    refreshEventDetails,\n    createNewEvent,\n    resetNewEvent,\n    updateNewEvent,\n    cancelNewEvent\n} from '../state/actions/eventsActions';\n\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport './component.css';\nimport ActionLaunch from 'material-ui/svg-icons/action/launch';\n\nclass EventsComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            open: false,\n            pending: false,\n            votes: null,\n            userVote: null,\n            event_lat: null,\n            event_lon: null,\n            mode: null,\n            currEvent: null,\n            video_path: null,\n            voteOptions: [],\n            eventStart: '',\n            eventEnd: '',\n            eventTime: '',\n            playerRef: null,\n            dialogOpen: false\n        };\n        this.upvoteMenuRef = React.createRef();\n        this.downvoteMenuRef = React.createRef();\n        this._toggleDrawerOpen = this._toggleDrawerOpen.bind(this);\n        this._toggleDrawerClosed = this._toggleDrawerClosed.bind(this);\n        this._handleVote = this._handleVote.bind(this);\n        this._handleEventNotes = this._handleEventNotes.bind(this);\n        this._handleEventAltitude = this._handleEventAltitude.bind(this);\n        this._handleEventClose = this._handleEventClose.bind(this);\n        this._handleVoteOptions = this._handleVoteOptions.bind(this);\n        this._handlePlayerLoaded = this._handlePlayerLoaded.bind(this);\n        this._handlePlayerError = this._handlePlayerError.bind(this);\n        this._handleSetOffset = this._handleSetOffset.bind(this);\n        this._handleDialogOpen = this._handleDialogOpen.bind(this);\n        this._handleDialogClose = this._handleDialogClose.bind(this);\n    }\n\n    _toggleDrawerOpen() {\n        this.props.setEventDrawerStatus(true);\n        if (this.props.event.video_path === undefined) {\n            return;\n        }\n        this.setState({\n            open: true,\n            video_path: this.props.event.video_path\n        });\n    }\n\n    _toggleDrawerClosed() {\n        this.setState({\n            open: false,\n            mode: null\n        }, () => {\n            this.props.setEventDrawerStatus(false);\n        });\n    }\n\n    _handleEventClose() {\n        if (this.props.event.edited) {\n            this._handleDialogOpen();\n        } else {\n            this.props.closeEvent();\n            this._toggleDrawerClosed();\n        }\n    }\n\n    _handleSubmitClick() {\n        const eventObj = _.cloneDeep(this.props.event);\n        if (this.props.event.new) {\n            delete eventObj.event_id;\n            delete eventObj.product_id;\n            delete eventObj.dataset_id;\n\n            this.setState({ mode: null }, () => {\n                DataApi.postData(`${this.props.config.dataUrl}/events`, DataApi.getEventObj(eventObj)).then(event => {\n                    toast(<StatusToast title=\"Event saved\"/>, {\n                        type: toast.TYPE.SUCCESS\n                    });\n                    this.props.refreshEventDetails(`${this.props.config.dataUrl}/events/${event.event_id}`);\n                    this.props.fetchEventVotes(`${this.props.config.dataUrl}/votes/event/${event.event_id}`);\n                }).catch(err => {\n                    toast(<StatusToast title=\"Error adding event\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                        type: toast.TYPE.ERROR\n                    });\n                });\n            });\n        } else {\n            DataApi.putData(`${this.props.config.dataUrl}/events/${this.props.event.event_id}`, DataApi.getEventObj(eventObj)).then(() => {\n                toast(<StatusToast title=\"Event updated\"/>, {\n                    type: toast.TYPE.SUCCESS\n                });\n                this.props.refreshEventDetails(`${this.props.config.dataUrl}/events/${this.props.event.event_id}`);\n                this.props.fetchEventVotes(`${this.props.config.dataUrl}/votes/event/${this.props.event.event_id}`);\n            }).catch(err => {\n                toast(<StatusToast title=\"Error updating event\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            });\n        }\n    }\n\n    _handleResetClick() {\n        if (this.props.event.new) {\n            this.props.resetNewEvent(this.props.event);\n        } else {\n            this.props.resetEvent(`${this.props.config.dataUrl}/events/${this.props.event.event_id}`);\n        }\n    }\n\n    _handleEventNotes(event, newValue) {\n        const eventObj = _.cloneDeep(this.props.event);\n        eventObj.notes = newValue;\n        this.props.editEvent(eventObj);\n    }\n\n    _handleEventAltitude(event, newValue) {\n        const eventObj = _.cloneDeep(this.props.event);\n        eventObj.event_altitude = newValue;\n        this.props.editEvent(eventObj);\n    }\n\n    _handleAddNewEventClicked() {\n        this.setState({\n            votes: null,\n            userVote: null,\n            mode: 'add',\n            currEventId: this.props.event.event_id,\n        }, () => {\n            const evt = _.cloneDeep(this.props.event);\n            delete evt.product_id;\n            delete evt.dataset_id;\n            evt.event_lat = parseFloat(this.props.newEvent._latlng.lat.toFixed(4));\n            evt.event_lon = parseFloat(this.props.newEvent._latlng.lng.toFixed(4));\n            this.props.createNewEvent(evt);\n        });\n    }\n\n    _handleCancelNewEventClicked() {\n        this.props.cancelNewEvent(this.props.event);\n        this.setState({\n            votes: this.props.eventVotes.results,\n            userVote: _.find(this.props.eventVotes.results, { voter: this.props.voterData.voter.voter_name }),\n            mode: null\n        }, () => {\n            this.props.resetEvent(`${this.props.config.dataUrl}/events/${this.state.currEventId}`);\n        });\n    }\n\n    _handleVote(value) {\n        let voteObj = null;\n        if (this.state.userVote && this.state.userVote.vote_id) {\n            if (\n                (this.state.userVote.vote === true && value === 'up') ||\n                (this.state.userVote.vote === false && value === 'down')\n            ) {\n                // new value is the same as the current value, so undo the vote\n                DataApi.deleteData(`${this.props.config.dataUrl}/votes/${this.state.userVote.vote_id}`).then(() => {\n                    toast(<StatusToast title=\"Vote removed\"/>, {\n                        type: toast.TYPE.SUCCESS\n                    });\n                    this.props.fetchEventVotes(`${this.props.config.dataUrl}/votes/event/${this.props.event.event_id}`);\n                    this.props.fetchUserVotes(`${this.props.config.dataUrl}/votes/voter`);\n                }).catch(err => {\n                    toast(<StatusToast title=\"Error deleting vote\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                        type: toast.TYPE.ERROR\n                    });\n                });\n            } else {\n                voteObj = _.clone(this.state.userVote);\n                voteObj.vote = value === 'up';\n                voteObj.geo_confidence = _.includes(this.state.voteOptions, 'geo_confidence');\n                voteObj.off_camera = _.includes(this.state.voteOptions, 'off_camera');\n                DataApi.putData(`${this.props.config.dataUrl}/votes/${this.state.userVote.vote_id}`, voteObj).then(() => {\n                    toast(<StatusToast title=\"Vote updated\"/>, {\n                        type: toast.TYPE.SUCCESS\n                    });\n                    this.props.fetchEventVotes(`${this.props.config.dataUrl}/votes/event/${this.props.event.event_id}`);\n                    this.props.fetchUserVotes(`${this.props.config.dataUrl}/votes/voter`);\n                }).catch(err => {\n                    toast(<StatusToast title=\"Error updating vote\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                        type: toast.TYPE.ERROR\n                    });\n                });\n            }\n        } else {\n            voteObj = {\n                event_id: this.props.event.event_id,\n                vote: value === 'up',\n                vote_time: moment.utc().toISOString(),\n                event_time: moment.utc(this.props.event.event_time).toISOString(),\n                geo_confidence: _.includes(this.state.voteOptions, 'geo_confidence'),\n                off_camera: _.includes(this.state.voteOptions, 'off_camera')\n            };\n            DataApi.postData(`${this.props.config.dataUrl}/votes`, voteObj).then(() => {\n                toast(<StatusToast title=\"Vote saved\"/>, {\n                    type: toast.TYPE.SUCCESS\n                });\n                this.props.fetchEventVotes(`${this.props.config.dataUrl}/votes/event/${this.props.event.event_id}`);\n                this.props.fetchUserVotes(`${this.props.config.dataUrl}/votes/voter`);\n            }).catch(err => {\n                toast(<StatusToast title=\"Error adding vote\" message={`${err.response.status} ${err.response.statusText}`}/>, {\n                    type: toast.TYPE.ERROR\n                });\n            });\n        }\n        this.setState({\n            userVote: voteObj\n        });\n    }\n\n    _handleOpenErisEvent() {\n        const dataUrl = `${this.props.config.erisUrl}/?product_id=${this.props.event.product_id.trim()}&dataset_id=${this.props.event.dataset_id}&confidence=0&zoom=14&baselayer=fusion`;\n        window.open(dataUrl, \"_blank\");\n    }\n\n    _handleOpenKmlEvent() {\n        this.props.onKmlExport(this.props.event.event_id);\n    }\n\n    _handleVoteOptions(event, value) {\n        _.remove(value, v => {\n            return v === 'submit';\n        });\n        this.setState({\n            voteOptions: value\n        });\n    }\n\n    _handlePlayerLoaded(playerRef) {\n        const { player } = playerRef.getState();\n        const eventStart = moment.utc(this.props.event.event_time).subtract(this.props.event.video_offset_sec, 's');\n        const eventEnd = moment.utc(eventStart.toISOString()).add(player.duration, 's');\n        this.setState({\n            eventStart: eventStart.format('YYYY-MM-DD HH:mm:ss[Z]'),\n            eventEnd: eventEnd.format('YYYY-MM-DD HH:mm:ss[Z]'),\n            eventTime: moment.utc(this.props.event.event_time).format('YYYY-MM-DD HH:mm:ss[Z]'),\n            playerRef: playerRef\n        });\n    }\n\n    _handlePlayerError(message) {\n        console.log(message);\n        const eventStart = moment.utc(this.props.event.event_time).subtract(this.props.event.video_offset_sec, 's');\n        this.setState({\n            eventStart: eventStart.format('YYYY-MM-DD HH:mm:ss[Z]'),\n            eventEnd: '',\n            eventTime: moment.utc(this.props.event.event_time).format('YYYY-MM-DD HH:mm:ss[Z]'),\n            playerRef: null\n        });\n    }\n\n    _handleSetOffset() {\n        this.state.playerRef.pause();\n        const { player } = this.state.playerRef.getState();\n        const eventObj = _.cloneDeep(this.props.event);\n        eventObj.video_offset_sec = parseInt(player.currentTime, 10);\n        this.props.editEvent(eventObj);\n        toast(<StatusToast title=\"Offset Updated\" message={`Video offset changed to ${eventObj.video_offset_sec} seconds. Click submit to accept this value.`}/>, {\n            type: toast.TYPE.INFO\n        });\n    }\n\n    _handleDialogOpen() {\n        this.setState({\n            dialogOpen: true\n        });\n    }\n\n    _handleDialogClose(response) {\n        this.setState({\n            dialogOpen: false\n        }, () => {\n            if (response) {\n                this.props.closeEvent();\n                this._toggleDrawerClosed();\n            }\n        });\n    }\n\n    componentDidMount() {\n        if (this.props.event && this.props.event.event_id) {\n            if (!this.props.event.pending && !this.props.event.open) {\n                this._toggleDrawerOpen();\n            }\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.event && _.keys(this.props.event).length > 0) {\n            // check for updated event\n            if (\n                !_.isEqual(prevProps.event, this.props.event) &&\n                prevProps.event.event_id !== this.props.event.event_id\n            ) {\n                if (this.props.event.close) {\n                    this._toggleDrawerClosed();\n                } else {\n                    if (!this.props.event.pending && !this.props.event.open) {\n                        this._toggleDrawerOpen();\n                    }\n                    this.setState({\n                        userVote: null\n                    });\n                }\n            }\n\n            // check for updated event votes\n            if (\n                this.props.eventVotes &&\n                !_.isEqual(prevProps.eventVotes, this.props.eventVotes)  &&\n                !this.props.event.close && !this.props.eventVotes.pending\n            ) {\n                this.setState({\n                    votes: this.props.eventVotes.results,\n                    userVote: _.find(this.props.eventVotes.results, {\n                        voter_name: this.props.voterData.voter.voter_name\n                    })\n                }, () => {\n                    if (this.state.userVote) {\n                        const voteOptions = [];\n                        if (this.state.userVote.geo_confidence) {\n                            voteOptions.push('geo_confidence');\n                        }\n                        if (this.state.userVote.off_camera) {\n                            voteOptions.push('off_camera');\n                        }\n                        this.setState({\n                            voteOptions: voteOptions\n                        });\n                    }\n                });\n            }\n\n            // check for applicable hotkeys\n            const eventLatEl = document.querySelector('#event-lat');\n            const eventLonEl = document.querySelector('#event-lon');\n            const eventOffsetEl = document.querySelector('#event-offset');\n            const eventNotesEl = document.querySelector('#event-notes');\n\n            if (\n                !_.isEqual(eventLatEl, document.activeElement) &&\n                !_.isEqual(eventLonEl, document.activeElement) &&\n                !_.isEqual(eventOffsetEl, document.activeElement) &&\n                !_.isEqual(eventNotesEl, document.activeElement)\n            ) {\n                // only listen for hotkeys when offset and notes don't have focus\n                if (this.props.hotkey && !_.isEqual(prevProps.hotkey, this.props.hotkey)) {\n                    if (_.keys(this.props.event).length > 0) {\n                        if (this.props.hotkey.key === 'Escape') {\n                            this._handleEventClose();\n                        } else if (this.props.hotkey.key === 'w') {\n                            this._handleVote('up');\n                        } else if (this.props.hotkey.key === 's') {\n                            this._handleVote('down');\n                        } else if (this.props.hotkey.key === '/') {\n                            this._handleSetOffset();\n                        }\n                    }\n                }\n            }\n        }\n\n        if (prevProps.dragging !== this.props.dragging) {\n            if (this.props.dragging && this.state.playerRef) {\n                this.state.playerRef.pause();\n            }\n        }\n\n        if (!_.isEqual(prevProps.newEvent, this.props.newEvent)) {\n            if (this.props.newEvent) {\n                this._handleAddNewEventClicked();\n            } else {\n                this._handleCancelNewEventClicked();\n            }\n        }\n    }\n\n    render() {\n        const filename = this.state.video_path ? _.last(this.state.video_path.split('/')) : null;\n        const thumbsUpChecked = this.state.userVote && this.state.userVote.vote === true;\n        const thumbsDownChecked = this.state.userVote && this.state.userVote.vote === false;\n\n        const thumbsUpIconColor = thumbsUpChecked ? '#0097a7' : '#fff';\n        const thumbsDownIconColor = thumbsDownChecked ? '#0097a7' : '#fff';\n\n        const upVotes = _.filter(this.state.votes, v => {\n            return v.vote;\n        });\n\n        const downVotes = _.filter(this.state.votes, v => {\n            return !v.vote;\n        });\n\n        const upvoteText = thumbsUpChecked ? 'Undo Upvote' : 'Submit Upvote';\n        const downvoteText = thumbsDownChecked ? 'Undo Downvote' : 'Submit Downvote';\n\n        const actions = [\n            <FlatButton\n                label=\"No\"\n                primary={true}\n                onClick={() => {\n                    this._handleDialogClose(false);\n                }}\n            />,\n            <FlatButton\n                label=\"Yes\"\n                primary={true}\n                onClick={() => {\n                    this._handleDialogClose(true);\n                }}\n            />,\n        ];\n\n        const offsetDuration = moment.duration(this.props.event.video_offset_sec, 's');\n        const offsetFormatted = moment.utc(offsetDuration.asMilliseconds()).format('mm:ss');\n\n        return (\n            <div className=\"events\">\n                <FloatingActionButton mini className=\"events__open-btn\" onClick={this._toggleDrawerOpen}\n                                      disabled={!this.props.event.selected}>\n                    <NavigationChevronLeft />\n                </FloatingActionButton>\n                <Drawer open={this.state.open} openSecondary={true} width=\"33%\">\n                    <div className=\"events__drawer\">\n                        <div className=\"events__action-div\">\n                            <FloatingActionButton mini secondary className=\"events__close-btn\"\n                                                  onClick={this._toggleDrawerClosed} title='Close event drawer'>\n                                <NavigationChevronRight/>\n                            </FloatingActionButton>\n                            <FlatButton primary label=\"Open In Eris\"\n                                        className=\"margin-top-md margin-bottom-md events__add-pt-btn\"\n                                        icon={<ActionLaunch />}\n                                        onClick={this._handleOpenErisEvent.bind(this)}\n                                        disabled={!this.props.event.selected}>\n                            </FlatButton>\n                            <FlatButton primary label=\"Open as KML\"\n                                        className=\"margin-top-md margin-bottom-md events__add-pt-btn\"\n                                        icon={<ActionLaunch/>}\n                                        onClick={this._handleOpenKmlEvent.bind(this)}\n                                        disabled={!this.props.event.selected}>\n                            </FlatButton>\n                            <FloatingActionButton mini secondary className=\"events__close-evt-btn\"\n                                                  onClick={this._handleEventClose} disabled={!this.props.event.selected}\n                                                  title='Close event data'>\n                                <Close />\n                            </FloatingActionButton>\n                        </div>\n                        <div className=\"events__video_player\">\n                            <h4>{filename}</h4>\n                            <VideoPlayerComponent\n                                hotkey={this.props.hotkey}\n                                onPlayerLoaded={this._handlePlayerLoaded}\n                                onPlayerError={this._handlePlayerError}\n                            />\n                        </div>\n                        <div className=\"events__event_header\">\n                            <div className=\"events__vote_controls\">\n                                <div>{upVotes.length}</div>\n                                <IconMenu\n                                    iconButtonElement={\n                                        <IconButton disabled={this.state.mode === 'add'} tooltip=\"Upvote Event\"\n                                                    tooltipPosition=\"top-center\">\n                                            <ThumbUpIcon color={thumbsUpIconColor}/>\n                                        </IconButton>\n                                    }\n                                    onChange={this._handleVoteOptions}\n                                    value={this.state.voteOptions}\n                                    multiple={true}\n                                    clickCloseDelay={0}\n                                    ref={this.upvoteMenuRef}\n                                >\n                                    <MenuItem value=\"geo_confidence\" primaryText=\"Low Confidence Geolocation\"\n                                              disabled={thumbsUpChecked} />\n                                    <MenuItem value=\"off_camera\" primaryText=\"Off-Camera Event\"\n                                              disabled={thumbsUpChecked} />\n                                    <Divider/>\n                                    <MenuItem value=\"submit\" primaryText={upvoteText} onClick={() => {\n                                        this._handleVote('up');\n                                        this.upvoteMenuRef.current.close();\n                                    }}/>\n                                </IconMenu>\n                                <IconMenu\n                                    iconButtonElement={\n                                        <IconButton disabled={this.state.mode === 'add'} tooltip=\"Downvote Event\"\n                                                    tooltipPosition=\"top-center\">\n                                            <ThumbDownIcon color={thumbsDownIconColor}/>\n                                        </IconButton>\n                                    }\n                                    onChange={this._handleVoteOptions}\n                                    value={this.state.voteOptions}\n                                    multiple={true}\n                                    clickCloseDelay={0}\n                                    ref={this.downvoteMenuRef}\n                                >\n                                    <MenuItem value=\"geo_confidence\" primaryText=\"Low Confidence Geolocation\"\n                                              disabled={thumbsDownChecked}/>\n                                    <MenuItem value=\"off_camera\" primaryText=\"Off-Camera Event\"\n                                              disabled={thumbsDownChecked}/>\n                                    <Divider/>\n                                    <MenuItem value=\"submit\" primaryText={downvoteText} onClick={() => {\n                                        this._handleVote('down');\n                                        this.downvoteMenuRef.current.close();\n                                    }}/>\n                                </IconMenu>\n                                <div>{downVotes.length}</div>\n                            </div>\n                            <div className=\"events__event_title\">\n                                <h2>Event: {this.props.event.event_id}</h2>\n                                <h4>Product: {this.props.event.product_id || 'None'}, Dataset: {this.props.event.dataset_id || 'None'}</h4>\n                            </div>\n                            <IconButton tooltip=\"Set Offset Seconds\" tooltipPosition=\"top-left\">\n                                <DeviceAccessTime onClick={() => {\n                                    this._handleSetOffset();\n                                }}/>\n                            </IconButton>\n                        </div>\n                        <div className=\"events__event_info\">\n                            {this.props.event && this.props.event.selected &&\n                            <Card>\n                                <CardText>\n                                    <GridList cols={3} spacing={3} cellHeight='auto' className='grid__list'>\n                                        <GridTile cols={1}>\n                                            <TextField\n                                                disabled\n                                                id=\"event-start\"\n                                                floatingLabelFixed={true}\n                                                floatingLabelText=\"Video Start\"\n                                                value={this.state.eventStart}/>\n                                        </GridTile>\n                                        <GridTile cols={1}>\n                                            <TextField\n                                                disabled\n                                                id=\"event-time\"\n                                                floatingLabelFixed={true}\n                                                floatingLabelText=\"Event Time\"\n                                                value={this.state.eventTime}/>\n                                        </GridTile>\n                                        <GridTile cols={1}>\n                                            <TextField\n                                                disabled\n                                                id=\"event-end\"\n                                                floatingLabelFixed={true}\n                                                floatingLabelText=\"Video End\"\n                                                value={this.state.eventEnd}/>\n                                        </GridTile>\n                                    </GridList>\n                                    <GridList cols={4} spacing={3} cellHeight='auto' className='grid__list'>\n                                        <GridTile cols={1}>\n                                            <TextField\n                                                id=\"event-lat\"\n                                                floatingLabelFixed={true}\n                                                floatingLabelText=\"Latitude\"\n                                                value={parseFloat(this.props.event.event_lat).toFixed(4)}\n                                                type=\"number\"/>\n                                        </GridTile>\n                                        <GridTile cols={1}>\n                                            <TextField\n                                                id=\"event-lon\"\n                                                floatingLabelFixed={true}\n                                                floatingLabelText=\"Longitude\"\n                                                value={parseFloat(this.props.event.event_lon).toFixed(4)}\n                                                type=\"number\"/>\n                                        </GridTile>\n                                        <GridTile cols={1}>\n                                            <TextField\n                                                id=\"event-altitude\"\n                                                title={`${this.props.event.event_altitude} meters`}\n                                                floatingLabelFixed={true}\n                                                floatingLabelText='Altitude (meters)'\n                                                value={+this.props.event.event_altitude}\n                                                onChange={this._handleEventAltitude}\n                                                type=\"number\"/>\n                                        </GridTile>\n                                        <GridTile cols={1}>\n                                            <TextField\n                                                disabled\n                                                id=\"event-offset\"\n                                                title={`${this.props.event.video_offset_sec} seconds`}\n                                                floatingLabelFixed={true}\n                                                floatingLabelText='Video Offset'\n                                                value={offsetFormatted}/>\n                                        </GridTile>\n                                        <GridTile cols={4}>\n                                            <TextField\n                                                id=\"event-notes\"\n                                                floatingLabelFixed={true}\n                                                floatingLabelText=\"Notes\"\n                                                fullWidth={true}\n                                                multiLine={true}\n                                                rows={3}\n                                                rowsMax={3}\n                                                onChange={this._handleEventNotes}\n                                                value={this.props.event.notes || ''} />\n                                        </GridTile>\n                                    </GridList>\n                                </CardText>\n                                <CardActions style={{'textAlign': 'right'}}>\n                                    <FlatButton primary label=\"Reset\" className=\"margin-top-sm margin-bottom-md\"\n                                                onClick={this._handleResetClick.bind(this)}\n                                                disabled={!this.props.event.edited} />\n                                    <FlatButton primary label=\"Submit\" className=\"margin-top-sm margin-bottom-md\"\n                                                onClick={this._handleSubmitClick.bind(this)}\n                                                disabled={!this.props.event.edited}/>\n                                </CardActions>\n                            </Card>\n                            }\n                        </div>\n                    </div>\n                </Drawer>\n                <Dialog\n                    actions={actions}\n                    modal={false}\n                    open={this.state.dialogOpen}\n                >\n                    Changes made to this event will be discarded. Do you want to continue?\n                </Dialog>\n            </div>\n        )\n    }\n}\n\nEventsComponent.propTypes = {\n    defaultConfig: PropTypes.object,\n    config: PropTypes.object,\n    settings: PropTypes.object,\n    data: PropTypes.object,\n    share: PropTypes.func,\n    stateful: PropTypes.object,\n    mapPoint: PropTypes.object,\n    event: PropTypes.object,\n    eventDrawerStatus: PropTypes.bool,\n    eventVotes: PropTypes.object,\n    userVotes: PropTypes.object,\n    voterData: PropTypes.object\n};\n\nconst mapStateToProps = state => {\n    return {\n        defaultConfig: state.defaultConfig,\n        config: state.config,\n        settings: state.settings,\n        data: state.data,\n        mapPoint: state.mapPoint,\n        event: state.event,\n        eventDrawerStatus: state.eventDrawerStatus,\n        eventVotes: state.eventVotes,\n        userVotes: state.userVotes,\n        voterData: state.voterData,\n        stateful: state.stateful\n    }\n};\n\nexport default connect(mapStateToProps, {\n    clearCoordinates,\n    setEventDrawerStatus,\n    fetchData,\n    fetchUserVotes,\n    // existing events\n    fetchEventVotes,\n    resetEvent,\n    putEventData,\n    editEvent,\n    closeEvent,\n    refreshEventDetails,\n    // new events\n    createNewEvent,\n    resetNewEvent,\n    updateNewEvent,\n    cancelNewEvent,\n    updateSettings\n})(EventsComponent);\n","import * as types from './eventDrawerActionTypes';\n\nexport function setEventDrawerStatus(eventDrawerStatus) {\n    return (dispatch) => {\n        dispatch({\n            type: types.EVENT_DRAWER__STATUS,\n            eventDrawerStatus\n        });\n    }\n}\n","import * as types from './voterActionTypes';\nimport DataApi from '../../api/DataApi';\n\nfunction fetchPending(voterData) {\n    return {\n        type: types.VOTER__FETCH_VOTER_DATA_PENDING,\n        voterData\n    };\n}\n\nfunction fetchSuccess(voterData) {\n    return {\n        type: types.VOTER__FETCH_VOTER_DATA_SUCCESS,\n        voterData\n    };\n}\n\nfunction fetchError(voterDataError) {\n    return {\n        type: types.VOTER__FETCH_VOTER_DATA_ERROR,\n        voterDataError\n    };\n}\n\nexport function fetchVoterData(url) {\n    return (dispatch) => {\n        dispatch(fetchPending({}));\n        return DataApi.fetchData(url).then(data => {\n            dispatch(fetchSuccess({voter: data.length > 0 ? data[0] : null}));\n        }).catch(error => {\n            dispatch(fetchError(error))\n        });\n    };\n}\n\nexport function postVoterData(url, payload) {\n    return (dispatch) => {\n        dispatch(fetchPending(payload));\n        return DataApi.postData(url, payload).then(data => {\n            dispatch(fetchSuccess({voter: data}));\n        }).catch(error => {\n            dispatch(fetchError(error))\n        });\n    };\n}\n","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {toast} from 'react-toastify';\nimport {HotKeys} from 'react-hotkeys';\nimport * as _ from 'lodash';\n\nimport SettingsComponent from './settings/component';\nimport MapComponent from './map/component';\nimport EventsComponent from './events/component';\nimport StatusToast from './toast/StatusToast';\nimport {fetchVoterData, postVoterData} from './state/actions/voterActions';\nimport {updateConfig} from './state/actions/configActions';\n\nimport 'leaflet/dist/leaflet.css';\nimport 'leaflet.coordinates/dist/Leaflet.Coordinates-0.1.5.css';\nimport 'leaflet-defaulticon-compatibility/dist/leaflet-defaulticon-compatibility.webpack.css'; // Re-uses images from ~leaflet package\nimport './App.css';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            viewport: null,\n            bounds: null,\n            hotkey: null,\n            hoverEvent: null,\n            error: null,\n            newEvent: null,\n            dragging: null,\n            kmlEvent: null\n        };\n\n        this._handleViewport = this._handleViewport.bind(this);\n        this._handleBounds = this._handleBounds.bind(this);\n        this._handleHotkey = this._handleHotkey.bind(this);\n        this._handleEventHover = this._handleEventHover.bind(this);\n        this._handleNewEvent = this._handleNewEvent.bind(this);\n        this._handleDrag = this._handleDrag.bind(this);\n        this._handleKml = this._handleKml.bind(this);\n    }\n\n    _handleViewport(viewport) {\n        this.setState({\n            viewport: viewport\n        }, () => {\n            const newConfig = _.clone(this.props.config);\n            newConfig.viewport = viewport;\n            this.props.updateConfig(newConfig);\n        });\n    }\n\n    _handleBounds(bounds) {\n        this.setState({\n            bounds: bounds\n        });\n    }\n\n    _handleHotkey(event) {\n        this.setState({\n            hotkey: event\n        });\n    }\n\n    _handleEventHover(event) {\n        this.setState({\n            hoverEvent: event\n        });\n    }\n\n    _handleNewEvent(event) {\n        this.setState({\n            newEvent: event\n        });\n    }\n\n    _handleDrag(event) {\n        this.setState({\n            dragging: event\n        });\n    }\n\n    _handleKml(event) {\n        this.setState({\n            kmlEvent: event\n        });\n    }\n\n    componentDidMount() {\n        this.props.fetchVoterData(`${this.props.config.dataUrl}/voters/voter`);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.voterData && !_.isEqual(prevProps.voterData, this.props.voterData)) {\n            if (this.props.voterData.error && !this.props.voterData.pending && !this.state.error) {\n                this.setState({\n                    error: this.props.voterData.error.message\n                }, () => {\n                    toast(<StatusToast title=\"Error retrieving voter\" message={this.state.error}/>, {\n                        type: toast.TYPE.ERROR\n                    });\n                });\n            }\n            if (!this.state.error && !this.props.voterData.voter && !this.props.voterData.pending) {\n                // user has not voted before, so add to the voter table\n                this.props.postVoterData(`${this.props.config.dataUrl}/voters`);\n            }\n        }\n    }\n\n    render() {\n        const keyMap = {\n            prevEvent: 'a',\n            nextEvent: 'd',\n            playPauseVideo: 'space',\n            videoSpeedIncrease: '.',\n            videoSpeedDecrease: ',',\n            closeEvent: 'esc',\n            voteUp: 'w',\n            voteDown: 's',\n            filter: 'f',\n            forwardFrame: 'right',\n            backwardFrame: 'left',\n            setOffset: '/'\n        };\n\n        const handlers = {\n            'prevEvent': this._handleHotkey,\n            'nextEvent': this._handleHotkey,\n            'playPauseVideo': this._handleHotkey,\n            'videoSpeedIncrease': this._handleHotkey,\n            'videoSpeedDecrease': this._handleHotkey,\n            'closeEvent': this._handleHotkey,\n            'voteUp': this._handleHotkey,\n            'voteDown': this._handleHotkey,\n            'filter': this._handleHotkey,\n            'forwardFrame': this._handleHotkey,\n            'backwardFrame': this._handleHotkey,\n            'setOffset': this._handleHotkey\n        };\n\n        return (\n            <div className=\"App\">\n                <HotKeys keyMap={keyMap} handlers={handlers}>\n                    <SettingsComponent viewport={this.state.viewport} bounds={this.state.bounds} hotkey={this.state.hotkey} onEventHover={this._handleEventHover}/>\n                    <EventsComponent hotkey={this.state.hotkey} newEvent={this.state.newEvent} dragging={this.state.dragging} onKmlExport={this._handleKml}/>\n                    <MapComponent onViewportChange={this._handleViewport} onBoundsChange={this._handleBounds} onNewEvent={this._handleNewEvent} hoverEvent={this.state.hoverEvent} onDrag={this._handleDrag} kmlEvent={this.state.kmlEvent}/>\n                </HotKeys>\n            </div>\n        );\n    }\n}\n\nApp.propTypes = {\n    config: PropTypes.object,\n    voterData: PropTypes.object\n};\n\nconst mapStateToProps = state => {\n    return {\n        config: state.config,\n        voterData: state.voterData\n    }\n};\n\nexport default connect(mapStateToProps, {\n    fetchVoterData,\n    postVoterData,\n    updateConfig\n})(App);\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","let Store = null;\n\nconst GlobalStore = {\n    setStore: (createdStore) => {\n        Store = createdStore;\n    },\n    getStore: () => {\n        return Store;\n    }\n};\n\nexport default GlobalStore;\n","import * as types from './statefulActionTypes';\n\nexport function updateStatefulStatus(status) {\n    return {\n        type: types.STATEFUL__UPDATE_STATUS,\n        status\n    };\n}\n","/* eslint-disable import/default */ // - This lets us do the configureStore.dev/prod trick\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nimport {MuiThemeProvider, getMuiTheme, darkBaseTheme} from 'material-ui/styles';\n\nimport GlobalStore from './globalStore';\nimport configureStore from './state/store/configureStore';\nimport StatefulApi from './api/StatefulApi';\nimport {updateConfig, saveConfig} from './state/actions/configActions';\nimport {setDefaultConfig} from './state/actions/defaultConfigActions';\nimport {updateSettings} from './state/actions/settingsActions';\nimport {updateStatefulStatus} from './state/actions/statefulActions';\n\nconst xhttp = new XMLHttpRequest();\nlet defaultConfig = {};\nlet store = null;\nxhttp.onreadystatechange = () => {\n    if (xhttp.readyState === 4 && xhttp.status === 200) {\n        store = configureStore();\n        GlobalStore.setStore(store);\n        defaultConfig = JSON.parse(xhttp.responseText);\n\n        // try to return whatever is stored in localStorage\n        const saved = localStorage.getItem('eris-truth.configuration');\n        if (saved) {\n            const savedObj = JSON.parse(saved);\n            if (savedObj.version && (savedObj.version >= defaultConfig.version)) {\n                store.dispatch(updateConfig(savedObj));\n                // store settings to state\n                store.dispatch(updateSettings(savedObj.settings));\n            } else {\n                // they have an outdated config, give them the default\n                console.log(`Stored version was ${savedObj.version} - upgrading to ${defaultConfig.version}`);\n                store.dispatch(updateConfig(defaultConfig));\n                store.dispatch(saveConfig(defaultConfig));\n                // store settings to state\n                store.dispatch(updateSettings(defaultConfig.settings));\n            }\n        } else {\n            // it's their first time here, give them the default\n            store.dispatch(updateConfig(defaultConfig));\n            store.dispatch(saveConfig(defaultConfig));\n            // store settings of current layer to state\n            store.dispatch(updateSettings(defaultConfig.settings));\n        }\n\n        // store default config for later use\n        store.dispatch(setDefaultConfig(defaultConfig));\n\n        const render = () => {\n            ReactDOM.render(\n                <Provider store={store}>\n                    <MuiThemeProvider muiTheme={getMuiTheme(darkBaseTheme)}>\n                        <App/>\n                    </MuiThemeProvider>\n                </Provider>, document.getElementById('root')\n            );\n            registerServiceWorker();\n        };\n\n        const getStateId = () => {\n            let query = window.location.search.substring(1);\n            let vars = query.split('&');\n            for (let i = 0; i < vars.length; i++) {\n                let pair = vars[i].split('=');\n                if (decodeURIComponent(pair[0]) === 'id') {\n                    return decodeURIComponent(pair[1]);\n                }\n            }\n        };\n\n        const stateId = getStateId();\n\n        if (stateId) {\n            StatefulApi.getState(`${defaultConfig.stateful}/states/state/${stateId}`).then(result => {\n                let initialState = {};\n                try {\n                    initialState = JSON.parse(result.user_state);\n                    initialState.stateful.id = stateId;\n                    store = configureStore(initialState);\n                    GlobalStore.setStore(store);\n                    render();\n                } catch (err) {\n                    store.dispatch(updateStatefulStatus({\n                        value: true,\n                        error: err.message,\n                        id: stateId\n                    }));\n                    render();\n                }\n            }).catch(err => {\n                store.dispatch(updateStatefulStatus({\n                    value: false,\n                    error: err.message,\n                    id: stateId\n                }));\n                render();\n            });\n        } else {\n            // attempt to reach stateful service before rendering\n            if (defaultConfig.stateful) {\n                StatefulApi.getVersion(`${defaultConfig.stateful}/version`).then(() => {\n                    store.dispatch(updateStatefulStatus({\n                        value: true,\n                        error: null,\n                        id: null\n                    }));\n                    render();\n                }).catch(err => {\n                    store.dispatch(updateStatefulStatus({\n                        value: false,\n                        error: err.message,\n                        id: null\n                    }));\n                    render();\n                });\n            } else {\n                render();\n            }\n        }\n    }\n};\n\nxhttp.open('GET', `${process.env.PUBLIC_URL}/app-config.json`, true);\nxhttp.send();\n","import { combineReducers } from 'redux';\nimport defaultConfig from './reducers/defaultConfigReducer';\nimport config from './reducers/configReducer';\nimport settings from './reducers/settingsReducer';\nimport data from './reducers/dataReducer';\nimport voterData from './reducers/voterReducer';\nimport stateful from './reducers/statefulReducer';\nimport mapPoint from './reducers/mapReducer';\nimport event from './reducers/eventsReducer';\nimport eventDrawerStatus from './reducers/eventDrawerReducer';\nimport eventVotes from './reducers/eventVotesReducer';\nimport userVotes from './reducers/userVotesReducer';\n\nconst rootReducer = combineReducers({\n    defaultConfig,\n    config,\n    settings,\n    data,\n    voterData,\n    mapPoint,\n    event,\n    eventDrawerStatus,\n    eventVotes,\n    userVotes,\n    stateful\n});\n\nexport default rootReducer;\n","import * as types from '../actions/defaultConfigActionTypes';\n\nexport default function defaultConfigReducer(state = {}, action) {\n    switch (action.type) {\n        case types.DEFAULT_CONFIG__SET_DEFAULT_CONFIG:\n            return action.defaultConfig;\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/configActionTypes';\n\nexport default function configReducer(state = {}, action) {\n    switch (action.type) {\n        case types.CONFIG__UPDATE_CONFIG:\n            return Object.assign({}, state, action.config);\n        case types.CONFIG__SAVE_CONFIG:\n            const c = JSON.stringify(action.config);\n            localStorage.setItem('eris-truth.configuration', c);\n            return action.config;\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/settingsActionTypes';\n\nexport default function settingsReducer(state = {}, action) {\n    switch (action.type) {\n        case types.SETTINGS__UPDATE_SETTINGS:\n            return Object.assign({}, state, action.settings);\n        case types.SETTINGS__RESET_SETTINGS:\n            return Object.assign({}, state, action.defaultConfig.settings);\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/dataActionTypes';\n\nexport default function dataReducer(state = {}, action) {\n    switch (action.type) {\n        case types.DATA__FETCH_DATA_PENDING:\n            return Object.assign({}, action.data, {pending: true});\n        case types.DATA__FETCH_DATA_SUCCESS:\n            return Object.assign({}, action.data, {pending: false});\n        case types.DATA__FETCH_DATA_ERROR:\n            return Object.assign({}, {pending: false, error: action.error});\n        case types.DATA__REFRESH_VIEWPORT_DATA: \n            return Object.assign({}, action.data, {refresh: true});\n        case types.DATA__CLEAR:\n            return Object.assign({}, {clear: true});\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/voterActionTypes';\n\nexport default function voterReducer(state = {}, action) {\n    switch (action.type) {\n        case types.VOTER__FETCH_VOTER_DATA_PENDING:\n            return Object.assign({}, action.voterData, {pending: true});\n        case types.VOTER__FETCH_VOTER_DATA_SUCCESS:\n            return Object.assign({}, action.voterData, {pending: false});\n        case types.VOTER__FETCH_VOTER_DATA_ERROR:\n            return Object.assign({}, {pending: false, error: action.voterDataError});\n        case types.VOTER__UPDATE_VOTER_DATA:\n            return Object.assign({}, action.voterData, {pending: false});\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/mapActionTypes';\n\nexport default function mapPointReducer(state = {}, action) {\n    switch (action.type) {\n        case types.MAP__FLY_TO_EVENT:\n            return Object.assign({}, action.event, {clear: false});\n        // case types.MAP__CLEAR_RESULTS:\n        //     return Object.assign({}, action, {clear: true});\n        default:\n            return state;\n    }\n}","import * as types from '../actions/eventsActionTypes';\n\n// Actions that occur on the event tiles (i.e. clicking a tile, clear data layers)\n\nexport default function eventsReducer(state = {}, action) {\n    switch (action.type) {\n\n        // existing events\n        case types.EVENTS__EVENT_SELECTED:\n            return Object.assign({}, action.event, { selected: true, edited: false, pending: false, new: false });\n\n        case types.EVENTS__EVENT_EDITED:\n            return Object.assign({}, action.event, { selected: true, edited: true, pending: false, new: false });\n\n        case types.EVENT__EVENT_RESET:\n            return Object.assign({}, action.event, {\n                selected: true,\n                edited: false,\n                pending: false,\n                new: false,\n                reset: true\n            });\n\n        case types.EVENTS__EVENT_CLOSE:\n            return Object.assign({}, action, {close: true});\n\n        case types.EVENT__EVENT_REFRESH: \n            return Object.assign({}, action.event, { \n                selected: true, \n                edited: false, \n                pending: false, \n                new: false, \n                refresh: true \n            });\n\n\n        // new events\n        case types.EVENT__EVENT_NEW:\n            return Object.assign({}, action.event, {\n                new: true, \n                selected: true, \n                edited: false, \n                pending: false\n            });\n        \n        case types.EVENTS__EVENT_NEW_UPDATE: \n            return Object.assign({}, action.event, {\n                new: true, \n                selected: true, \n                edited: true, \n                pending: false,\n                reset: false\n            });\n\n        case types.EVENT__EVENT_NEW_RESET: \n            return Object.assign({}, action.event, {\n                new: true,\n                selected: true,\n                reset: true,\n                edited: true,\n                pending: false\n            });\n\n        case types.EVENT__EVENT_NEW_CANCEL: \n            return Object.assign({}, action.event, {\n                new: true,\n                cancel: true,\n                selected: true,\n                reset: false,\n                edited: false,\n                pending: false\n            })\n\n        \n        // event status\n        case types.EVENTS__FETCH_EVENT_DATA_SUCCESS:\n            return Object.assign({}, action.event, { selected: true, edited: false, pending: false, new: false });\n \n        case types.EVENTS__FETCH_EVENT_DATA_PENDING:\n            return Object.assign(action.event, {pending: true});\n\n        case types.EVENTS__FETCH_EVENT_DATA_ERROR:\n            return Object.assign({}, {pending: false, error: action.eventError});\n\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/eventDrawerActionTypes';\n\nexport default function eventDrawerReducer(state = false, action) {\n    switch (action.type) {\n        case types.EVENT_DRAWER__STATUS:\n            return action.eventDrawerStatus;\n\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/eventVotesActionTypes';\n\nexport default function eventVoteSReducer(state = {}, action) {\n    switch (action.type) {\n        case types.EVENT_VOTES__FETCH_PENDING:\n            return Object.assign({}, action.eventVotes, {pending: true});\n\n        case types.EVENT_VOTES__FETCH_SUCCESS:\n            return Object.assign({}, action.eventVotes, {pending: false});\n\n        case types.EVENT_VOTES__FETCH_ERROR:\n            return Object.assign({}, {error: action.eventVotesError, pending: false});\n\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/userVotesActionTypes';\n\nexport default function userVotesReducer(state = {}, action) {\n    switch (action.type) {\n        case types.USER_VOTES__FETCH_PENDING:\n            return Object.assign({}, action.userVotes, {pending: true});\n        case types.USER_VOTES__FETCH_SUCCESS:\n            return Object.assign({}, action.userVotes, {pending: false});\n        case types.USER_VOTES__FETCH_ERROR:\n            return Object.assign({}, {pending: false, error: action.userVotesError});\n        default:\n            return state;\n    }\n}\n","import * as types from '../actions/statefulActionTypes';\n\nexport default function statefulReducer(state = {}, action) {\n    switch (action.type) {\n        case types.STATEFUL__UPDATE_STATUS:\n            return Object.assign({}, state, action.status);\n        default:\n            return state;\n    }\n}\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport rootReducer from '../rootReducer';\n\nexport default function configureStore(initialState) {\n    const middewares = [\n        // Add other middleware on this line...\n\n        // thunk middleware can also accept an extra argument to be passed to each thunk action\n        // https://github.com/gaearon/redux-thunk#injecting-a-custom-argument\n        thunkMiddleware\n    ];\n\n    return createStore(rootReducer, initialState, compose(\n        applyMiddleware(...middewares)\n    ));\n}\n","export const USER_VOTES__FETCH_PENDING = 'USER_VOTES__FETCH_PENDING';\nexport const USER_VOTES__FETCH_SUCCESS = 'USER_VOTES__FETCH_SUCCESS';\nexport const USER_VOTES__FETCH_ERROR = 'USER_VOTES__FETCH_ERROR';\n","export const SETTINGS__UPDATE_SETTINGS = 'SETTINGS__UPDATE_SETTINGS';\nexport const SETTINGS__RESET_SETTINGS = 'SETTINGS__RESET_SETTINGS';\n","export const CONFIG__UPDATE_CONFIG = 'CONFIG__UPDATE_CONFIG';\nexport const CONFIG__SAVE_CONFIG = 'CONFIG__SAVE_CONFIG';\n","export const MAP__FLY_TO_EVENT = 'MAP__FLY_TO_EVENT';\nexport const MAP__CLEAR_EVENTS = 'MAP__CLEAR_EVENTS';"],"sourceRoot":""}